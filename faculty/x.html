<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student - Support</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ["Poppins", "sans-serif"] },
                    colors: {
                        primary: { 50: "#E7F0FA", 100: "#D0E1F5", 200: "#7BA4D0", 300: "#4D84C0", 400: "#2E5E99", 500: "#1E4A7A", 600: "#0D2440" },
                        dark: { bg: "#111827", card: "#1F2937", text: "#F9FAFB", border: "#374151" }
                    },
                },
            },
        };
    </script>

    <style>
        /* --- Scrollbar --- */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        .dark ::-webkit-scrollbar-track { background: #111827; }
        ::-webkit-scrollbar-thumb { background: #7ba4d0; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #2e5e99; }

        /* --- Sidebar Logic --- */
        .sidebar { transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden; }
        .sidebar.collapsed .nav-item { justify-content: center; padding-left: 0; padding-right: 0; }
        .sidebar.collapsed .nav-item i { margin-right: 0; font-size: 1.25rem; }
        .sidebar.collapsed .nav-item span { display: none; }
        .sidebar.collapsed .bottom-menu span { display: none; }
        .sidebar.collapsed .bottom-menu .nav-item { justify-content: center; }

        /* --- Nav Item Styling --- */
        .nav-item { transition: all 0.2s ease; position: relative; display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.25rem; color: #374151; border-radius: 0.5rem; cursor: pointer; white-space: nowrap; }
        .nav-item:hover { background-color: #f3f4f6; }
        .dark .nav-item { color: #d1d5db; }
        .dark .nav-item:hover { background-color: #374151; }
        .nav-item.active { background-color: #d0e1f5; color: #1e4a7a; }
        .dark .nav-item.active { background-color: #1e4a7a; color: #ffffff; }
        .nav-item.active::before { content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%); height: 60%; width: 4px; background-color: #2e5e99; border-radius: 0 4px 4px 0; }
        .dark .nav-item.active::before { background-color: #60a5fa; }
        .nav-item i { width: 1.5rem; text-align: center; margin-right: 0.75rem; font-size: 1.1rem; flex-shrink: 0; }
        .nav-item span { font-size: 0.875rem; font-weight: 500; }

        /* --- FAQ Accordion Styles --- */
        .faq-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, padding 0.3s ease; }
        .faq-item.active .faq-content { max-height: 500px; padding-bottom: 1.25rem; }
        .faq-item.active .faq-icon { transform: rotate(180deg); }
    </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-200">
    <div class="flex h-screen overflow-hidden">
        
        <aside id="mainSidebar" class="sidebar w-64 bg-white dark:bg-gray-800 shadow-sm border-r border-gray-200 dark:border-gray-700 flex flex-col h-screen flex-shrink-0 transition-colors duration-200">
            <div class="p-6 flex-shrink-0 flex items-center justify-between h-[88px]">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2 overflow-hidden whitespace-nowrap">
                    <i class="fas fa-code text-primary-500 text-2xl flex-shrink-0"></i>
                    <span id="sidebarLogoText" class="transition-all duration-300 opacity-100 w-auto">CampusCode</span>
                </h1>
                <button id="sidebarToggleBtn" class="p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary-500 transition-colors focus:outline-none">
                    <i class="fas fa-chevron-left transition-transform duration-300"></i>
                </button>
            </div>

            <nav class="flex-1 px-4 space-y-1 overflow-y-auto mt-2">
                <a href="index.html" class="nav-item"><i class="fas fa-home"></i><span>Home</span></a>
                <a href="problems.html" class="nav-item"><i class="fas fa-tasks"></i><span>Problems</span></a>
                <a href="contest.html" class="nav-item"><i class="fas fa-trophy"></i><span>Contests</span></a>
                <a href="forum.html" class="nav-item"><i class="fas fa-comments"></i><span>Community</span></a>
                <a href="report.html" class="nav-item"><i class="fas fa-chart-pie"></i><span>Report</span></a>
                <a href="profile.html" class="nav-item"><i class="fas fa-user"></i><span>Profile</span></a>
            </nav>

            <div class="p-4 space-y-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0 bottom-menu">
                <a href="support.html" class="nav-item active"><i class="far fa-question-circle"></i><span>Help & Support</span></a>
                <a href="settings.html" class="nav-item"><i class="fas fa-cog"></i><span>Settings</span></a>
            </div>
        </aside>
        <div class="flex-1 overflow-y-auto">
            <header class="bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200 sticky top-0 z-10">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
                    <div class="flex-1 max-w-2xl ml-4 flex items-center gap-4">
                        <h1 id="headerLogoText" class="text-xl font-bold text-gray-800 dark:text-white hidden transition-all duration-300 opacity-0 transform -translate-x-2 whitespace-nowrap">
                            CampusCode
                        </h1>
                        <div class="relative flex items-center w-full">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" class="block w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:ring-2 focus:ring-primary-400 focus:border-transparent transition-all" placeholder="Search documentation..." />
                        </div>
                    </div>
                    <div class="ml-4 flex items-center gap-3">
                        <button id="themeToggleBtn" class="p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none transition-transform active:scale-95">
                            <i class="fas fa-moon text-xl"></i>
                        </button>
                        <div class="relative">
                            <button id="notificationBtn" class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none">
                                <i class="fas fa-bell text-xl"></i>
                                <span class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-gray-800"></span>
                            </button>
                        </div>
                        <button id="headerProfileBtn" class="ml-2 flex items-center gap-3 p-1 pr-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                            <div class="h-9 w-9 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm">JD</div>
                            <span class="text-sm font-medium text-gray-700 dark:text-gray-200 hidden sm:block">John Doe</span>
                        </button>
                    </div>
                </div>
            </header>
            <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                
                <div class="mb-8 text-center md:text-left">
                    <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Help Center</h1>
                    <p class="text-gray-600 dark:text-gray-400 mt-1">Search for documentation, troubleshooting, or contact us directly.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    
                    <div class="lg:col-span-7 space-y-6">
                        
                        <div class="relative">
                            <input type="text" id="faqSearch" placeholder="Search FAQs (e.g., 'Contest', 'Login', 'IDE')..." 
                                class="w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition bg-white dark:bg-gray-800 text-gray-800 dark:text-white">
                            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"></i>
                        </div>

                        <div class="space-y-4" id="faqContainer">
                            <div class="flex items-center justify-between mb-2">
                                <h2 class="text-lg font-semibold text-gray-800 dark:text-white">Frequently Asked Questions</h2>
                            </div>

                            <div class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                                <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between p-5 text-left focus:outline-none">
                                    <span class="font-semibold text-gray-800 dark:text-gray-200">How do I register for a contest?</span>
                                    <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                                </button>
                                <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                    Go to the <span class="font-semibold text-primary-500">Contests</span> page via the sidebar. Click on "Upcoming Contests" and select the "Register" button next to the event you wish to join. Registration usually closes 30 minutes before start time.
                                </div>
                            </div>

                            <div class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                                <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between p-5 text-left focus:outline-none">
                                    <span class="font-semibold text-gray-800 dark:text-gray-200">Why is my code getting "Time Limit Exceeded"?</span>
                                    <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                                </button>
                                <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                    This usually means your algorithm is too slow for the input size. Check your time complexity (e.g., ensure you aren't using O(nÂ²) where O(n log n) is required). Optimization tips are available in the <span class="font-semibold">Discussion</span> tab of the problem.
                                </div>
                            </div>

                            <div class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                                <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between p-5 text-left focus:outline-none">
                                    <span class="font-semibold text-gray-800 dark:text-gray-200">Where can I view my submission history?</span>
                                    <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                                </button>
                                <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                    You can view your history on your <span class="font-semibold">Profile</span> page under the "Activity" heatmap, or by clicking the "Submissions" tab on any specific problem page.
                                </div>
                            </div>
                             <div class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                                <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between p-5 text-left focus:outline-none">
                                    <span class="font-semibold text-gray-800 dark:text-gray-200">I found a bug in the platform.</span>
                                    <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                                </button>
                                <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                    Please use the contact form on the right side of this page. Select "Platform Bug" as the priority/subject to ensure our engineering team sees it immediately.
                                </div>
                            </div>
                        </div>

                         <div class="grid grid-cols-2 gap-4 mt-8">
                            <a href="#" class="p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition group shadow-sm">
                                <i class="fab fa-discord text-2xl text-[#5865F2] mb-2"></i>
                                <span class="text-sm font-semibold text-gray-700 dark:text-gray-200">Join Discord</span>
                            </a>
                            <a href="#" class="p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition group shadow-sm">
                                <i class="fab fa-twitter text-2xl text-[#1DA1F2] mb-2"></i>
                                <span class="text-sm font-semibold text-gray-700 dark:text-gray-200">Follow Updates</span>
                            </a>
                        </div>
                    </div>

                    <aside class="lg:col-span-5">
                        <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 md:p-8 rounded-xl shadow-sm relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-32 h-32 bg-primary-50 dark:bg-primary-900/20 rounded-full -mr-16 -mt-16 z-0"></div>
                            
                            <div class="relative z-10">
                                <h3 class="text-xl font-bold mb-2 text-gray-800 dark:text-white">Open a Ticket</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Our team typically responds in under 4 hours.</p>
                                
                                <form id="supportForm" class="space-y-4">
                                    <div class="grid grid-cols-1 gap-4">
                                        <div>
                                            <label class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Subject</label>
                                            <input type="text" required placeholder="Brief summary..." class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 focus:border-transparent outline-none transition text-sm">
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Category</label>
                                        <select class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 outline-none transition text-sm">
                                            <option>General Question</option>
                                            <option>Contest Issue</option>
                                            <option>Billing / Account</option>
                                            <option class="text-red-500 font-bold">Report Bug</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Details</label>
                                        <textarea rows="5" required placeholder="Describe your issue..." class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 focus:border-transparent outline-none transition text-sm font-sans"></textarea>
                                    </div>

                                    <button type="submit" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transform active:scale-[0.98] transition-all">
                                        Submit Ticket
                                    </button>
                                </form>

                                <div id="successState" class="hidden text-center py-12">
                                    <div class="w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                                        <i class="fas fa-check text-2xl"></i>
                                    </div>
                                    <h4 class="text-xl font-bold mb-2 text-gray-800 dark:text-white">Ticket Received!</h4>
                                    <p class="text-gray-500 dark:text-gray-400 mb-6 text-sm">Check your email for confirmation.<br>Ref ID: <span class="font-mono text-primary-500">#TKT-4920</span></p>
                                    <button onclick="window.location.reload()" class="text-primary-500 font-bold hover:underline text-sm">Send another message</button>
                                </div>
                            </div>
                        </div>
                    </aside>
                </div>
            </main>
        </div>
    </div>

    <div id="notificationDropdown" class="fixed top-16 right-6 z-50 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 hidden animate-[fadeIn_0.1s_ease-out]">
        <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
            <h3 class="font-semibold text-gray-800 dark:text-white">Notifications</h3>
            <span class="text-xs text-primary-500 cursor-pointer hover:underline">Mark all read</span>
        </div>
        <div class="p-2">
            <div class="p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg cursor-pointer">
                <p class="text-sm text-gray-800 dark:text-gray-200 font-medium">Contest Reminder</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Weekly contest starts in 1 hour.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // --- 1. SIDEBAR TOGGLE LOGIC ---
            const sidebar = document.getElementById('mainSidebar');
            const toggleBtn = document.getElementById('sidebarToggleBtn');
            const toggleIcon = toggleBtn.querySelector('i');
            const sidebarLogoText = document.getElementById('sidebarLogoText');
            const headerLogoText = document.getElementById('headerLogoText');

            toggleBtn.addEventListener('click', () => {
                sidebar.classList.toggle('collapsed');
                if (sidebar.classList.contains('w-64')) {
                    sidebar.classList.replace('w-64', 'w-20');
                    toggleIcon.style.transform = 'rotate(180deg)';
                    sidebarLogoText.style.opacity = '0';
                    sidebarLogoText.style.width = '0px';
                    headerLogoText.classList.remove('hidden');
                    setTimeout(() => headerLogoText.classList.remove('opacity-0', '-translate-x-2'), 50);
                } else {
                    sidebar.classList.replace('w-20', 'w-64');
                    toggleIcon.style.transform = 'rotate(0deg)';
                    sidebarLogoText.style.opacity = '1';
                    sidebarLogoText.style.width = 'auto';
                    headerLogoText.classList.add('opacity-0', '-translate-x-2');
                    setTimeout(() => headerLogoText.classList.add('hidden'), 300);
                }
            });

            // --- 2. Theme Toggle ---
            const themeBtn = document.getElementById('themeToggleBtn');
            const themeIcon = themeBtn.querySelector('i');
            const html = document.documentElement;

            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
            }

            themeBtn.addEventListener('click', () => {
                html.classList.toggle('dark');
                if (html.classList.contains('dark')) {
                    localStorage.theme = 'dark';
                    themeIcon.classList.replace('fa-moon', 'fa-sun');
                } else {
                    localStorage.theme = 'light';
                    themeIcon.classList.replace('fa-sun', 'fa-moon');
                }
            });

            // --- 3. Notifications ---
            const notifBtn = document.getElementById('notificationBtn');
            const notifDropdown = document.getElementById('notificationDropdown');
            notifBtn.addEventListener('click', (e) => { e.stopPropagation(); notifDropdown.classList.toggle('hidden'); });
            document.addEventListener('click', (e) => {
                if(!notifDropdown.contains(e.target) && !notifBtn.contains(e.target)) notifDropdown.classList.add('hidden');
            });

            // --- 4. FAQ Logic ---
            window.toggleFaq = function(button) {
                const item = button.parentElement;
                const isActive = item.classList.contains('active');
                document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
                if (!isActive) item.classList.add('active');
            };

            // --- 5. FAQ Search ---
            const faqSearch = document.getElementById('faqSearch');
            faqSearch.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                document.querySelectorAll('.faq-item').forEach(item => {
                    const text = item.innerText.toLowerCase();
                    item.style.display = text.includes(term) ? 'block' : 'none';
                });
            });

            // --- 6. Form Handling ---
            document.getElementById('supportForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const btn = this.querySelector('button');
                const originalText = btn.innerText;
                btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Sending...';
                btn.disabled = true;
                btn.classList.add('opacity-75', 'cursor-not-allowed');

                setTimeout(() => {
                    this.classList.add('hidden');
                    document.getElementById('successState').classList.remove('hidden');
                }, 1200);
            });
        });
    </script>
</body>
</html>