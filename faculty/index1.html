<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Faculty Dashboard</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Quill Rich Text Editor Theme -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ["Poppins", "sans-serif"],
                    },
                    colors: {
                        primary: {
                            50: "#E7F0FA",
                            100: "#D0E1F5",
                            200: "#7BA4D0",
                            300: "#4D84C0",
                            400: "#2E5E99",
                            500: "#1E4A7A",
                            600: "#0D2440",
                        },
                        dark: {
                            bg: "#111827",
                            card: "#1F2937",
                            text: "#F9FAFB",
                            border: "#374151"
                        }
                    },
                },
            },
        };
    </script>
    <style>
        /* --- Scrollbar --- */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        .dark ::-webkit-scrollbar-track {
            background: #111827;
        }

        ::-webkit-scrollbar-thumb {
            background: #7ba4d0;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2e5e99;
        }

        /* --- Sidebar Logic --- */
        .sidebar {
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .sidebar.collapsed .nav-item {
            justify-content: center;
            padding-left: 0;
            padding-right: 0;
        }

        .sidebar.collapsed .nav-item i {
            margin-right: 0;
            font-size: 1.25rem;
        }

        .sidebar.collapsed .nav-item span {
            display: none;
        }

        .sidebar.collapsed .bottom-menu span {
            display: none;
        }

        .sidebar.collapsed .bottom-menu .nav-item {
            justify-content: center;
        }

        /* --- Nav Item Styling --- */
        .nav-item {
            transition: all 0.2s ease;
            position: relative;
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            margin-bottom: 0.25rem;
            color: #374151;
            border-radius: 0.5rem;
            cursor: pointer;
            white-space: nowrap;
        }

        .nav-item:hover {
            background-color: #f3f4f6;
        }

        .dark .nav-item {
            color: #d1d5db;
        }

        .dark .nav-item:hover {
            background-color: #374151;
        }

        .nav-item.active {
            background-color: #d0e1f5;
            color: #1e4a7a;
        }

        .dark .nav-item.active {
            background-color: #1e4a7a;
            color: #ffffff;
        }

        .nav-item.active::before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            height: 60%;
            width: 4px;
            background-color: #2e5e99;
            border-radius: 0 4px 4px 0;
        }

        .dark .nav-item.active::before {
            background-color: #60a5fa;
        }

        .nav-item i {
            width: 1.5rem;
            text-align: center;
            margin-right: 0.75rem;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .nav-item span {
            font-size: 0.875rem;
            font-weight: 500;
        }

        /* Report Styles */
        .report-preview-container {
            background: white;
            width: 100%;
            max-width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            padding: 20mm;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            position: relative;
            font-family: 'Roboto', sans-serif;
        }

        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 7rem;
            font-weight: 800;
            color: rgba(0, 0, 0, 0.02);
            pointer-events: none;
        }

        .report-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            font-size: 0.8rem;
        }

        .report-table th,
        .report-table td {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            text-align: left;
        }

        .report-table th {
            background: #f9fafb;
            font-weight: 700;
            color: #374151;
        }

        /* --- FAQ Accordion Styles --- */
        .faq-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease;
        }

        .faq-item.active .faq-content {
            max-height: 500px;
            padding-bottom: 1.25rem;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
    </style>
</head>

<body
    class="bg-gray-50 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-200 text-gray-800 dark:text-gray-200">
    <div class="flex h-screen overflow-hidden">
        <!-- SIDEBAR -->
        <aside id="mainSidebar"
            class="sidebar w-64 bg-white dark:bg-gray-800 shadow-sm border-r border-gray-200 dark:border-gray-700 flex flex-col h-screen flex-shrink-0 transition-colors duration-200">
            <div class="p-6 flex-shrink-0 flex items-center justify-between h-[88px]">
                <h1
                    class="text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2 overflow-hidden whitespace-nowrap">
                    <i class="fas fa-code text-primary-500 text-2xl flex-shrink-0"></i>
                    <span id="sidebarLogoText" class="transition-all duration-300 opacity-100 w-auto">CampusCode</span>
                </h1>
                <button id="sidebarToggleBtn"
                    class="p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary-500 transition-colors focus:outline-none">
                    <i class="fas fa-chevron-left transition-transform duration-300"></i>
                </button>
            </div>

            <nav class="flex-1 px-4 space-y-1 overflow-y-auto mt-2">
                <div data-target="section-dashboard"
                    class="nav-item active relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div data-target="section-manage-problems"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-tasks"></i>
                    <span>Problems</span>
                </div>
                <div data-target="section-manage-contests"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-trophy"></i>
                    <span>Contests</span>
                </div>
                <div data-target="section-forum"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-comments"></i>
                    <span>Community</span>
                </div>
                <div data-target="section-manage-class"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-users"></i>
                    <span>Students</span>
                </div>
                <div data-target="section-reports"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </div>
                <div data-target="section-tasks"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hidden">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Tasks</span>
                </div>

            </nav>

            <div
                class="p-4 space-y-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0 bottom-menu">
                <div data-target="section-support"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="far fa-question-circle"></i>
                    <span>Help & Support</span>
                </div>
                <div data-target="section-settings"
                    class="nav-item relative flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <div class="flex-1 overflow-y-auto">
            <!-- HEADER -->
            <header class="bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200 sticky top-0 z-20">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">

                    <div class="flex items-center gap-4">
                        <h1 id="headerLogoText"
                            class="text-xl font-bold text-gray-800 dark:text-white hidden transition-all duration-300 opacity-0 transform -translate-x-2 whitespace-nowrap">
                            CampusCode
                        </h1>
                        <h2 id="page-title" class="text-xl font-bold text-gray-800 dark:text-white ml-2">Dashboard</h2>
                    </div>

                    <div class="flex-1 max-w-lg ml-8 hidden md:block">
                        <div class="relative flex items-center">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text"
                                class="block w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-400 focus:border-transparent placeholder-gray-500 dark:placeholder-gray-400"
                                placeholder="Search..." />
                        </div>
                    </div>

                    <div class="ml-4 flex items-center gap-3">
                        <button id="themeToggleBtn"
                            class="p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none transition-transform active:scale-95">
                            <i class="fas fa-moon text-xl"></i>
                        </button>

                        <div class="relative">
                            <button id="notificationBtn"
                                class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none">
                                <i class="fas fa-bell text-xl"></i>
                                <span
                                    class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-gray-800"></span>
                            </button>
                        </div>

                        <button id="headerProfileBtn"
                            class="ml-2 flex items-center gap-3 p-1 pr-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                            <div
                                class="h-9 w-9 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm">
                                JD</div>
                        </button>
                    </div>
                </div>
            </header>

            <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 relative">

                <!-- SECTION: DASHBOARD -->
                <div id="section-dashboard" class="content-section">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                        <!-- LEFT COLUMN (Stats & Quick Actions) -->
                        <div class="lg:col-span-2 space-y-6">
                            <!-- Stats Row -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <!-- Card 1 -->
                                <div
                                    class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-transform duration-200">
                                    <div class="relative z-10 flex justify-between items-start">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Problems
                                                Created</p>
                                            <h3 class="text-3xl font-bold text-gray-900 dark:text-white mt-2">24</h3>
                                        </div>
                                        <div class="p-3 bg-blue-500/10 rounded-lg text-blue-500 dark:text-blue-400">
                                            <i class="fas fa-code text-xl"></i>
                                        </div>
                                    </div>
                                    <!-- Decorative gradient blob -->
                                    <div
                                        class="absolute -bottom-4 -right-4 w-24 h-24 bg-blue-500/10 rounded-full blur-2xl group-hover:bg-blue-500/20 transition-colors">
                                    </div>
                                </div>

                                <!-- Card 2 -->
                                <div
                                    class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-transform duration-200">
                                    <div class="relative z-10 flex justify-between items-start">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Active
                                                Contests</p>
                                            <h3 class="text-3xl font-bold text-gray-900 dark:text-white mt-2">8</h3>
                                        </div>
                                        <div
                                            class="p-3 bg-purple-500/10 rounded-lg text-purple-500 dark:text-purple-400">
                                            <i class="fas fa-trophy text-xl"></i>
                                        </div>
                                    </div>
                                    <div
                                        class="absolute -bottom-4 -right-4 w-24 h-24 bg-purple-500/10 rounded-full blur-2xl group-hover:bg-purple-500/20 transition-colors">
                                    </div>
                                </div>

                                <!-- Card 3 (New: Total Sections) -->
                                <div
                                    class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-transform duration-200">
                                    <div class="relative z-10 flex justify-between items-start">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Total
                                                Sections</p>
                                            <h3 class="text-3xl font-bold text-gray-900 dark:text-white mt-2">5</h3>
                                        </div>
                                        <div
                                            class="p-3 bg-orange-500/10 rounded-lg text-orange-500 dark:text-orange-400">
                                            <i class="fas fa-layer-group text-xl"></i>
                                        </div>
                                    </div>
                                    <div
                                        class="absolute -bottom-4 -right-4 w-24 h-24 bg-orange-500/10 rounded-full blur-2xl group-hover:bg-orange-500/20 transition-colors">
                                    </div>
                                </div>

                                <!-- Card 4 (New: Subjects Taught) -->
                                <div
                                    class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-lg relative overflow-hidden group hover:scale-[1.02] transition-transform duration-200">
                                    <div class="relative z-10 flex justify-between items-start">
                                        <div>
                                            <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Subjects
                                                Taught</p>
                                            <h3 class="text-3xl font-bold text-gray-900 dark:text-white mt-2">3</h3>
                                        </div>
                                        <div class="p-3 bg-green-500/10 rounded-lg text-green-500 dark:text-green-400">
                                            <i class="fas fa-book text-xl"></i>
                                        </div>
                                    </div>
                                    <div
                                        class="absolute -bottom-4 -right-4 w-24 h-24 bg-green-500/10 rounded-full blur-2xl group-hover:bg-green-500/20 transition-colors">
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Actions -->
                            <div
                                class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-6">
                                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Quick Actions</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                                    <button
                                        onclick="document.querySelector('[data-target=section-manage-problems]').click();"
                                        class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-700/50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-all hover:scale-105 group">
                                        <div
                                            class="w-12 h-12 rounded-full bg-white flex items-center justify-center text-gray-900 text-xl mb-3 shadow-md group-hover:shadow-lg transition-shadow">
                                            <i class="fas fa-plus"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Create
                                            Problem</span>
                                    </button>

                                    <button
                                        onclick="document.querySelector('[data-target=section-manage-contests]').click();"
                                        class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-700/50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-all hover:scale-105 group">
                                        <div
                                            class="w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-600 dark:text-purple-400 text-xl mb-3 shadow-sm">
                                            <i class="fas fa-calendar-plus"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">New
                                            Contest</span>
                                    </button>

                                    <button
                                        onclick="document.querySelector('[data-target=section-manage-problems]').click();"
                                        class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-700/50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-all hover:scale-105 group">
                                        <div
                                            class="w-12 h-12 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-600 dark:text-orange-400 text-xl mb-3 shadow-sm">
                                            <i class="fas fa-code"></i>
                                        </div>
                                        <span
                                            class="text-sm font-medium text-gray-700 dark:text-gray-300">Problems</span>
                                    </button>

                                    <button
                                        onclick="document.querySelector('[data-target=section-manage-class]').click();"
                                        class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-700/50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-all hover:scale-105 group">
                                        <div
                                            class="w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center text-green-600 dark:text-green-400 text-xl mb-3 shadow-sm">
                                            <i class="fas fa-user-graduate"></i>
                                        </div>
                                        <span
                                            class="text-sm font-medium text-gray-700 dark:text-gray-300">Students</span>
                                    </button>

                                    <button onclick="document.querySelector('[data-target=section-tasks]').click();"
                                        class="flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-700/50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600 transition-all hover:scale-105 group">
                                        <div
                                            class="w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-600 dark:text-yellow-400 text-xl mb-3 shadow-sm">
                                            <i class="fas fa-tasks"></i>
                                        </div>
                                        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Tasks</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Draft Problems List -->
                            <div
                                class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-6">
                                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Draft Problems List
                                </h3>
                                <div class="space-y-4">
                                    <!-- Item 1 -->
                                    <div
                                        class="flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-700/30 p-2 rounded-lg transition-colors cursor-pointer">
                                        <div class="flex items-center gap-4">
                                            <div
                                                class="w-10 h-10 rounded-full bg-red-500/20 text-red-600 dark:text-red-500 flex items-center justify-center">
                                                <i class="fas fa-edit"></i>
                                            </div>
                                            <div>
                                                <p
                                                    class="text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                                                    Binary Search - Edge Cases</p>
                                                <p class="text-xs text-gray-500">Last Edited: 2h ago</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="text-xs font-medium text-red-500 dark:text-red-400">Status:
                                                Missing Test
                                                Cases</span>
                                        </div>
                                    </div>

                                    <!-- Item 2 -->
                                    <div
                                        class="flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-700/30 p-2 rounded-lg transition-colors cursor-pointer">
                                        <div class="flex items-center gap-4">
                                            <div
                                                class="w-10 h-10 rounded-full bg-yellow-500/20 text-yellow-600 dark:text-yellow-500 flex items-center justify-center">
                                                <i class="fas fa-share-alt"></i>
                                            </div>
                                            <div>
                                                <p
                                                    class="text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                                                    Graph Traversal (DFS)</p>
                                                <p class="text-xs text-gray-500">Last Edited: 1d ago</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span
                                                class="text-xs font-medium text-yellow-600 dark:text-yellow-400">Status:
                                                Needs
                                                Description</span>
                                        </div>
                                    </div>

                                    <!-- Item 3 -->
                                    <div
                                        class="flex items-center justify-between group hover:bg-gray-50 dark:hover:bg-gray-700/30 p-2 rounded-lg transition-colors cursor-pointer">
                                        <div class="flex items-center gap-4">
                                            <div
                                                class="w-10 h-10 rounded-full bg-blue-500/20 text-blue-600 dark:text-blue-500 flex items-center justify-center">
                                                <i class="fab fa-python"></i>
                                            </div>
                                            <div>
                                                <p
                                                    class="text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                                                    Dynamic Programming Intro</p>
                                                <p class="text-xs text-gray-500">Last Edited: 3d ago</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Status:
                                                Review
                                                Pending</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- RIGHT COLUMN (Analytics & Activity) -->
                        <div class="space-y-6">
                            <!-- Analytics -->
                            <div
                                class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-6">
                                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Contest Analytics</h3>
                                <div class="space-y-6">
                                    <div>
                                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Student Performance
                                            Distribution</p>
                                        <div class="relative h-40 w-full">
                                            <canvas id="performanceChart"></canvas>
                                        </div>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-500 dark:text-gray-400 mb-2">Problem Difficulty vs.
                                            Solve Rate</p>
                                        <div class="relative h-40 w-full">
                                            <canvas id="difficultyChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Activity -->
                            <div
                                class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-lg p-6">
                                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Recent Activity</h3>
                                <div class="space-y-4">
                                    <!-- Item 1 -->
                                    <div class="flex gap-3">
                                        <div class="flex-shrink-0">
                                            <div class="w-2 h-2 rounded-full bg-blue-500 mt-2"></div>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-700 dark:text-gray-300">Dr. Smith created "Data
                                                Structures
                                                Mid-term"</p>
                                            <span class="text-xs text-gray-500">2h ago</span>
                                        </div>
                                    </div>
                                    <!-- Item 2 -->
                                    <div class="flex gap-3">
                                        <div class="flex-shrink-0">
                                            <div class="w-2 h-2 rounded-full bg-green-500 mt-2"></div>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-700 dark:text-gray-300">New problem "Binary Tree
                                                Traversal" added
                                            </p>
                                            <span class="text-xs text-gray-500">4h ago</span>
                                        </div>
                                    </div>
                                    <!-- Item 3 -->
                                    <div class="flex gap-3">
                                        <div class="flex-shrink-0">
                                            <div class="w-2 h-2 rounded-full bg-purple-500 mt-2"></div>
                                        </div>
                                        <div>
                                            <p class="text-sm text-gray-700 dark:text-gray-300">Contest "Intro to
                                                Python" ended</p>
                                            <span class="text-xs text-gray-500">1d ago</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- SECTION: REPORTS -->
                <div id="section-reports" class="content-section hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                        <div class="lg:col-span-1">
                            <div
                                class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 sticky top-24">
                                <label class="text-xs font-bold text-gray-400 uppercase block mb-2">Report Type</label>
                                <select id="reportType"
                                    class="w-full border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm mb-6 outline-none bg-gray-50 dark:bg-gray-700 dark:text-gray-200 focus:ring-2 focus:ring-primary-200">
                                    <option value="Students">Student Records (XLSX)</option>
                                    <option value="Contests" selected>Contest Analytics (PDF)</option>
                                    <option value="Problems">Problem Bank (XLSX)</option>
                                </select>

                                <div id="filterContainer" class="space-y-2 mb-8">
                                </div>

                                <button id="actionBtn"
                                    class="w-full py-4 rounded-xl font-bold text-white shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2">
                                    <i class="fas fa-download"></i> Download
                                </button>
                            </div>
                        </div>

                        <div class="lg:col-span-3">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-widest">A4 Live
                                    Preview</span>
                                <span id="formatBadge"
                                    class="px-3 py-1 bg-primary-50 text-primary-600 rounded-full text-[10px] font-bold uppercase"></span>
                            </div>

                            <div id="report-content" class="report-preview-container rounded-xl text-gray-800">
                                <div class="watermark">CampusCode</div>
                                <div class="flex justify-between border-b-2 border-primary-500 pb-6 mb-8">
                                    <div>
                                        <h1 id="previewTitle" class="text-2xl font-bold text-gray-900 uppercase"></h1>
                                        <p class="text-primary-500 text-sm font-medium">Platform Activity Report</p>
                                    </div>
                                    <div class="text-right text-[10px] text-gray-400">
                                        <p class="font-bold text-gray-700">DATE: <span id="currentDateReport"></span>
                                        </p>
                                        <p>REF: #CC-2025-001</p>
                                    </div>
                                </div>

                                <div id="previewTableContainer"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION: MANAGE PROBLEMS -->
                <div id="section-manage-problems" class="content-section hidden">
                    <div id="problems-list-container">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-lg font-bold text-gray-800 dark:text-white">Problem Library</h2>
                            <button id="btn-create-problem"
                                class="btn-primary bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm">
                                <i class="fas fa-plus mr-2"></i> Create Problem
                            </button>
                        </div>

                        <div
                            class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col md:flex-row min-h-[500px]">

                            <!-- Filters Sidebar (Similar to problems.html) -->
                            <aside
                                class="w-full md:w-64 border-r border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800/50">
                                <div class="mb-4">
                                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">
                                        Filters</h3>
                                    <input type="text" placeholder="Filter..."
                                        class="w-full text-sm border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 focus:ring-1 focus:ring-primary-500 mb-4">
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <h4 class="text-xs font-semibold text-gray-500 uppercase mb-2">Subjects</h4>
                                        <div class="space-y-1">
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                DSA
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                OOPS
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                DBMS
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600"> CN
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-xs font-semibold text-gray-500 uppercase mb-2">Difficulty</h4>
                                        <div class="space-y-1">
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                Easy
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                Medium
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                Hard
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <h4 class="text-xs font-semibold text-gray-500 uppercase mb-2">Tags</h4>
                                        <div class="space-y-1">
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600">
                                                Arrays
                                            </label>
                                            <label
                                                class="flex items-center text-sm text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 p-1 rounded cursor-pointer">
                                                <input type="checkbox"
                                                    class="mr-2 rounded border-gray-300 text-primary-600"> DP
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </aside>

                            <!-- Main Content Area -->
                            <div class="flex-1 flex flex-col">
                                <!-- Tabs -->
                                <div class="flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto">
                                    <button
                                        class="problem-tab active px-6 py-4 text-sm font-medium text-primary-600 border-b-2 border-primary-500 focus:outline-none whitespace-nowrap"
                                        data-tab="all-problems">All Problems</button>
                                    <button
                                        class="problem-tab px-6 py-4 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none whitespace-nowrap"
                                        data-tab="created-problems">Created Problems</button>
                                    <button
                                        class="problem-tab px-6 py-4 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none whitespace-nowrap"
                                        data-tab="bookmarked-problems">Bookmarked Problems</button>
                                </div>

                                <!-- Tab Content: All Problems -->
                                <div id="all-problems" class="problem-tab-content p-0 flex-1">
                                    <div class="overflow-x-auto">
                                        <table class="w-full text-left border-collapse">
                                            <thead>
                                                <tr
                                                    class="text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 uppercase tracking-wider">
                                                    <th class="px-6 py-3">Status</th>
                                                    <th class="px-6 py-3">Title</th>
                                                    <th class="px-6 py-3">Difficulty</th>
                                                    <th class="px-6 py-3 text-right">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                                <tr
                                                    class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group">
                                                    <td class="px-6 py-4"><i
                                                            class="fas fa-check-circle text-green-500"></i>
                                                    </td>
                                                    <td class="px-6 py-4 py-3">
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                            Maximum Subarray</div>
                                                        <div class="text-xs text-gray-500">Arrays, DP</div>
                                                    </td>
                                                    <td class="px-6 py-4">
                                                        <span
                                                            class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400">Medium</span>
                                                    </td>
                                                    <td class="px-6 py-4 text-right">
                                                        <div class="flex justify-end items-center">
                                                            <button
                                                                class="bg-primary-50 text-primary-600 hover:bg-primary-100 px-3 py-1 rounded-md text-xs font-medium transition-colors">Solve</button>
                                                            <button
                                                                class="text-gray-400 hover:text-yellow-400 transition-colors mx-2 bookmark-btn"
                                                                title="Bookmark"><i
                                                                    class="far fa-bookmark"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr
                                                    class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group">
                                                    <td class="px-6 py-4"><i class="far fa-circle text-gray-300"></i>
                                                    </td>
                                                    <td class="px-6 py-4">
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                            Add Two Numbers</div>
                                                        <div class="text-xs text-gray-500">Linked List, Math</div>
                                                    </td>
                                                    <td class="px-6 py-4">
                                                        <span
                                                            class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400">Medium</span>
                                                    </td>
                                                    <td class="px-6 py-4 text-right">
                                                        <div class="flex justify-end items-center">
                                                            <button
                                                                class="bg-primary-50 text-primary-600 hover:bg-primary-100 px-3 py-1 rounded-md text-xs font-medium transition-colors">Solve</button>
                                                            <button
                                                                class="text-gray-400 hover:text-yellow-400 transition-colors mx-2 bookmark-btn"
                                                                title="Bookmark"><i
                                                                    class="far fa-bookmark"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- Tab Content: Created Problems (With Delete/Edit/Bookmark) -->
                                <div id="created-problems" class="problem-tab-content hidden p-0 flex-1">
                                    <div class="overflow-x-auto">
                                        <table class="w-full text-left border-collapse">
                                            <thead>
                                                <tr
                                                    class="text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 uppercase tracking-wider">
                                                    <th class="px-6 py-3">Title</th>
                                                    <th class="px-6 py-3">Difficulty</th>
                                                    <th class="px-6 py-3 text-right">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                                <tr
                                                    class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group">
                                                    <td class="px-6 py-4">
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                            Custom Graph Problem</div>
                                                        <div class="text-xs text-gray-500">Graphs, BFS</div>
                                                    </td>
                                                    <td class="px-6 py-4">
                                                        <span
                                                            class="px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400">Hard</span>
                                                    </td>
                                                    <td class="px-6 py-4 text-right">
                                                        <div class="flex justify-end items-center gap-2">
                                                            <button
                                                                class="bg-primary-50 text-primary-600 hover:bg-primary-100 px-3 py-1 rounded-md text-xs font-medium transition-colors">Solve</button>
                                                            <button
                                                                class="text-blue-500 hover:text-blue-700 transition-colors"
                                                                title="Edit"><i class="fas fa-edit"></i></button>
                                                            <button
                                                                class="text-red-500 hover:text-red-700 transition-colors"
                                                                title="Delete"><i class="fas fa-trash-alt"></i></button>
                                                            <button
                                                                class="text-gray-400 hover:text-yellow-400 transform hover:scale-110 transition-all bookmark-btn"
                                                                title="Bookmark"><i
                                                                    class="far fa-bookmark"></i></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- Tab Content: Bookmarked Problems (With Remove) -->
                                <div id="bookmarked-problems" class="problem-tab-content hidden p-0 flex-1">
                                    <div class="overflow-x-auto">
                                        <table class="w-full text-left border-collapse">
                                            <thead>
                                                <tr
                                                    class="text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 uppercase tracking-wider">
                                                    <th class="px-6 py-3">Title</th>
                                                    <th class="px-6 py-3">Difficulty</th>
                                                    <th class="px-6 py-3 text-right">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                                <tr
                                                    class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group">
                                                    <td class="px-6 py-4">
                                                        <div class="text-sm font-medium text-gray-900 dark:text-white">
                                                            Maximum Subarray</div>
                                                        <div class="text-xs text-gray-500">Arrays, DP</div>
                                                    </td>
                                                    <td class="px-6 py-4">
                                                        <span
                                                            class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400">Medium</span>
                                                    </td>
                                                    <td class="px-6 py-4 text-right">
                                                        <div class="flex justify-end items-center">
                                                            <button
                                                                class="bg-primary-50 text-primary-600 hover:bg-primary-100 px-3 py-1 rounded-md text-xs font-medium transition-colors">Solve</button>
                                                            <button
                                                                class="text-red-500 hover:text-red-700 transition-colors flex items-center gap-1 text-xs font-medium bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded ml-2"
                                                                title="Remove Bookmark">
                                                                <i class="fas fa-times"></i> Remove
                                                            </button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Create Problem Form (Revised) -->
                    <div id="problem-form-view"
                        class="hidden bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center gap-4 mb-6">
                            <button id="btn-back-to-list"
                                class="text-gray-500 hover:text-primary-600 transition-colors">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <h2 class="text-xl font-bold text-gray-800 dark:text-white">Create New Problem</h2>
                        </div>

                        <form class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label
                                        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Problem
                                        Title</label>
                                    <input type="text"
                                        class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 transition-shadow"
                                        placeholder="e.g. Binary Tree Inversion">
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Subject</label>
                                    <select
                                        class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                                        <option>Data Structures</option>
                                        <option>Algorithms</option>
                                        <option>Database Systems</option>
                                        <option>Operating Systems</option>
                                    </select>
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Difficulty</label>
                                    <select
                                        class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                                        <option>Easy</option>
                                        <option>Medium</option>
                                        <option>Hard</option>
                                    </select>
                                </div>
                                <div>
                                    <label
                                        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Attach
                                        Hidden Tests</label>
                                    <div class="flex items-center justify-center w-full">
                                        <label for="hidden-tests-file"
                                            class="flex flex-col items-center justify-center w-full h-10 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600">
                                            <div class="flex items-center gap-2 pt-1">
                                                <i class="fas fa-cloud-upload-alt text-gray-500"></i>
                                                <p class="text-xs text-gray-500 dark:text-gray-400">Click to upload .zip
                                                    or .txt</p>
                                            </div>
                                            <input id="hidden-tests-file" type="file" class="hidden" />
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label
                                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label>
                                <div id="editor-wrapper"
                                    class="rounded-lg overflow-hidden bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600">
                                    <div id="editor-container" class="h-64 text-gray-800 dark:text-gray-200"></div>
                                </div>
                            </div>

                            <div class="flex justify-end gap-3">
                                <button type="button"
                                    class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">Cancel</button>
                                <button type="submit"
                                    class="px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors">Save
                                    Problem</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- SECTION: MANAGE CONTESTS (List View) -->
                <div id="section-manage-contests" class="content-section hidden">
                    <!-- Page header (title + create) -->
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Contests</h2>
                        <button id="btn-create-contest"
                            class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm">
                            <i class="fas fa-plus mr-2"></i>Create Contest
                        </button>
                    </div>

                    <!-- Tabs -->
                    <div class="border-b border-gray-200 dark:border-gray-700 mb-6">
                        <nav class="-mb-px flex space-x-8">
                            <button id="contest-tab-upcoming"
                                class="contest-tab active border-b-2 border-primary-500 text-primary-600 dark:text-primary-400 px-1 py-4 text-sm font-medium">
                                Upcoming Contests
                            </button>
                            <button id="contest-tab-past"
                                class="contest-tab border-b-2 border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 px-1 py-4 text-sm font-medium">
                                Past Contests
                            </button>
                        </nav>
                    </div>

                    <!-- Search and Filter -->
                    <div class="mb-6 flex flex-col sm:flex-row justify-between gap-4">
                        <div class="relative flex-1 max-w-md">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text"
                                class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-white"
                                placeholder="Search contests...">
                        </div>
                        <div class="flex space-x-3">
                            <select
                                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:ring-primary-500">
                                <option>All Contests</option>
                                <option>Ongoing</option>
                                <option>Upcoming</option>
                                <option>Past</option>
                            </select>
                            <select
                                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:ring-primary-500">
                                <option>Sort by: Newest</option>
                                <option>Sort by: Oldest</option>
                                <option>Sort by: Most Popular</option>
                            </select>
                        </div>
                    </div>

                    <!-- Upcoming Contests List -->
                    <div id="contest-list-upcoming" class="space-y-4">
                        <!-- Contest Card 1 -->
                        <div
                            class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200 hover:scale-[1.01]">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-2">
                                        <span
                                            class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400">Upcoming</span>
                                        <span class="text-sm text-gray-500 dark:text-gray-400"><i
                                                class="far fa-calendar-alt mr-1"></i> Starts in 2 days</span>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800 dark:text-white">Weekly Coding Challenge
                                        #42</h3>
                                    <p class="text-gray-600 dark:text-gray-300 mt-1 text-sm">Solve 5 problems in 3
                                        hours!</p>
                                    <div class="mt-4 flex gap-4 text-sm text-gray-500 dark:text-gray-400">
                                        <span><i class="far fa-clock mr-1"></i> 3 hours</span>
                                        <span><i class="fas fa-users mr-1"></i> 1,245 participants</span>
                                    </div>
                                </div>
                                <div class="mt-4 md:mt-0 md:ml-6 text-right flex flex-col items-end gap-2">
                                    <button
                                        class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors">Register
                                        Now</button>
                                    <p class="text-xs text-red-500">Ends in 1 day 12h</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Past Contests List (Hidden) -->
                    <div id="contest-list-past" class="space-y-4 hidden">
                        <div
                            class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow opacity-75">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-2">
                                        <span
                                            class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">Completed</span>
                                        <span class="text-sm text-gray-500"><i class="far fa-calendar-alt mr-1"></i>
                                            Ended 3 days ago</span>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800 dark:text-white">Weekly Coding Challenge
                                        #41</h3>
                                    <div class="mt-4 flex gap-4 text-sm text-gray-500">
                                        <span><i class="fas fa-medal mr-1 text-yellow-500"></i> Winner:
                                            student_123</span>
                                    </div>
                                </div>
                                <div class="mt-4 md:mt-0 md:ml-6 text-right flex flex-col items-end gap-2">
                                    <button
                                        class="text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium">View
                                        Leaderboard</button>
                                    <button
                                        class="text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium">View
                                        Problems</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION: CREATE CONTEST FORM (Hidden) -->
                <div id="contest-form-view"
                    class="hidden bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 max-w-4xl mx-auto mt-6">
                    <div class="flex items-center gap-4 mb-6">
                        <button id="btn-back-to-contest-list"
                            class="text-gray-500 hover:text-primary-600 transition-colors">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="text-xl font-bold text-gray-800 dark:text-white">Create New Contest</h2>
                    </div>

                    <form class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Contest
                                    Title</label>
                                <input type="text"
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 transition-shadow"
                                    placeholder="e.g. Midterm 1 - Data Structures">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Date
                                    &
                                    Time</label>
                                <input type="datetime-local"
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                            </div>
                            <!-- NEW: Class Dropdown -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Choose
                                    Class</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                                    <option>Select Class...</option>
                                    <option>CS101 - Intro to CS</option>
                                    <option>CS202 - Data Structures</option>
                                    <option>CS301 - Algorithms</option>
                                    <option>SE404 - Software Eng</option>
                                </select>
                            </div>
                            <!-- NEW: Language Dropdown -->
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Allowed
                                    Languages</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                                    <option>All Languages</option>
                                    <option>C++ Only</option>
                                    <option>Python Only</option>
                                    <option>Java Only</option>
                                    <option>C++ & Java</option>
                                </select>
                            </div>
                        </div>

                        <!-- NEW: Add Problem Section -->
                        <div
                            class="border border-gray-200 dark:border-gray-700 rounded-xl p-5 bg-gray-50 dark:bg-gray-700/30">
                            <h3 class="text-sm font-bold text-gray-800 dark:text-white mb-3">Add Problems
                            </h3>
                            <div class="flex flex-col sm:flex-row gap-3 mb-4">
                                <select id="contest-problem-select"
                                    class="flex-1 rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 transition-shadow">
                                    <option value="">Select a problem to add...</option>
                                    <option value="Two Sum">Two Sum (Easy)</option>
                                    <option value="Maximum Subarray">Maximum Subarray (Medium)</option>
                                    <option value="Sudoku Solver">Sudoku Solver (Hard)</option>
                                    <option value="Reverse Linked List">Reverse Linked List (Easy)</option>
                                </select>
                                <button type="button" id="btn-add-problem-to-contest"
                                    class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap shadow-sm">
                                    <i class="fas fa-plus mr-2"></i> Add Problem
                                </button>
                            </div>

                            <!-- Added Problems List -->
                            <div
                                class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden">
                                <table class="w-full text-left text-sm">
                                    <thead class="bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400">
                                        <tr>
                                            <th class="px-4 py-2 font-medium">Problem Title</th>
                                            <th class="px-4 py-2 font-medium text-right">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="added-problems-list"
                                        class="divide-y divide-gray-200 dark:divide-gray-700">
                                        <!-- Sample Added Problem -->
                                        <tr class="group">
                                            <td class="px-4 py-2 text-gray-800 dark:text-gray-200">Binary
                                                Search</td>
                                            <td class="px-4 py-2 text-right">
                                                <button type="button" class="text-red-500 hover:text-red-700"><i
                                                        class="fas fa-times"></i></button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700">
                            <button type="button"
                                class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">Cancel</button>
                            <button type="submit"
                                class="px-6 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors shadow-sm">
                                Publish Contest
                            </button>
                        </div>
                    </form>
                </div>

                <!-- SECTION: FORUM -->
                <div id="section-forum" class="content-section hidden">
                    <div id="forum-list-view">
                        <!-- Forum Header (title + new post) -->
                        <div class="mb-6 flex justify-end items-center">
                            <button id="newPostBtn"
                                class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm">
                                <i class="fas fa-plus mr-2"></i>New Post
                            </button>
                        </div>

                        <!-- Search and Filter -->
                        <div
                            class="mb-8 bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700">
                            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                                <div class="relative flex-1 max-w-2xl">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                    <input type="text"
                                        class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-white"
                                        placeholder="Search discussions...">
                                </div>
                                <div class="flex space-x-3">
                                    <select
                                        class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:ring-primary-500">
                                        <option>All Topics</option>
                                        <option>Most Recent</option>
                                        <option>Most Active</option>
                                        <option>Unanswered</option>
                                    </select>
                                    <button
                                        class="px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm">
                                        <i class="fas fa-filter mr-2"></i>Filters
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Popular Topics -->
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">Browse by Topic</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                                <!-- Topic 1 -->
                                <div
                                    class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all cursor-pointer">
                                    <div
                                        class="w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-4">
                                        <i
                                            class="fas fa-code text-blue-500 text-xl topic-icon transition-transform"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-800 dark:text-white mb-2">Web Development</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">HTML, CSS, JavaScript,
                                        Frameworks
                                    </p>
                                    <div class="mt-3 text-xs text-gray-400">
                                        <span>1,245 discussions</span>
                                        <span class="mx-2"></span>
                                        <span>342 active</span>
                                    </div>
                                </div>
                                <!-- Topic 2 -->
                                <div
                                    class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-transform duration-200 hover:scale-[1.02] cursor-pointer">
                                    <div
                                        class="w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4">
                                        <i
                                            class="fas fa-server text-green-500 text-xl topic-icon transition-transform"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-800 dark:text-white mb-2">Backend</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">Node.js, Python, Java, Databases
                                    </p>
                                    <div class="mt-3 text-xs text-gray-400">
                                        <span>856 discussions</span>
                                        <span class="mx-2"></span>
                                        <span>201 active</span>
                                    </div>
                                </div>
                                <!-- Topic 3 -->
                                <div
                                    class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-transform duration-200 hover:scale-[1.02] cursor-pointer">
                                    <div
                                        class="w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mb-4">
                                        <i
                                            class="fas fa-mobile-alt text-purple-500 text-xl topic-icon transition-transform"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-800 dark:text-white mb-2">Mobile Development</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">iOS, Android, React Native,
                                        Flutter
                                    </p>
                                    <div class="mt-3 text-xs text-gray-400">
                                        <span>723 discussions</span>
                                        <span class="mx-2"></span>
                                        <span>189 active</span>
                                    </div>
                                </div>
                                <!-- Topic 4 -->
                                <div
                                    class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-transform duration-200 hover:scale-[1.02] cursor-pointer">
                                    <div
                                        class="w-12 h-12 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mb-4">
                                        <i
                                            class="fas fa-brain text-yellow-500 text-xl topic-icon transition-transform"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-800 dark:text-white mb-2">Algorithms</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">Data Structures, Problem Solving
                                    </p>
                                    <div class="mt-3 text-xs text-gray-400">
                                        <span>1,532 discussions</span>
                                        <span class="mx-2"></span>
                                        <span>421 active</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Discussions -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-semibold text-gray-800 dark:text-white">Recent Discussions</h3>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-500 dark:text-gray-400">Sort by:</span>
                                    <select
                                        class="border-0 bg-transparent text-gray-600 dark:text-gray-300 font-medium focus:ring-0 focus:outline-none text-sm">
                                        <option>Most Recent</option>
                                        <option>Most Viewed</option>
                                        <option>Most Comments</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Discussion List -->
                            <div class="space-y-4">
                                <!-- Discussion 1 -->
                                <div
                                    class="post-card bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-md transition-transform duration-200 hover:scale-[1.01]">
                                    <div class="p-6">
                                        <div class="flex flex-col md:flex-row md:items-start">
                                            <div class="flex-1">
                                                <div class="flex items-center space-x-3 mb-2">
                                                    <span
                                                        class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400">Web
                                                        Development</span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-user mr-1"></i> Sarah Johnson</span>
                                                    <span class="text-sm text-gray-400 dark:text-gray-500"><i
                                                            class="far fa-clock mr-1"></i> 2 hours ago</span>
                                                </div>
                                                <h3
                                                    class="text-lg font-semibold text-gray-800 dark:text-white mb-2 hover:text-primary-600 cursor-pointer">
                                                    How to optimize React performance with large lists?</h3>
                                                <p class="text-gray-600 dark:text-gray-300 mb-4">I'm working on a
                                                    project
                                                    with thousands of items in a list. What are the best practices for
                                                    optimizing performance in React when dealing with large datasets?
                                                </p>
                                                <div class="flex flex-wrap gap-3 text-sm">
                                                    <span class="flex items-center text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-comment-alt mr-1"></i> 14 comments</span>
                                                    <span class="flex items-center text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-eye mr-1"></i> 245 views</span>
                                                    <span class="flex items-center text-green-500"><i
                                                            class="fas fa-check-circle mr-1"></i> 5 solutions</span>
                                                </div>
                                            </div>
                                            <div class="mt-4 md:mt-0 md:ml-6 flex items-start">
                                                <div
                                                    class="flex items-center bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium px-2.5 py-0.5 rounded-full">
                                                    <i class="fas fa-check-circle mr-1"></i> Solved
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Discussion 2 -->
                                <div
                                    class="post-card bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-md transition-transform duration-200 hover:scale-[1.01]">
                                    <div class="p-6">
                                        <div class="flex flex-col md:flex-row md:items-start">
                                            <div class="flex-1">
                                                <div class="flex items-center space-x-3 mb-2">
                                                    <span
                                                        class="px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400">Algorithms</span>
                                                    <span class="text-sm text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-user mr-1"></i> Alex Chen</span>
                                                    <span class="text-sm text-gray-400 dark:text-gray-500"><i
                                                            class="far fa-clock mr-1"></i> 5 hours ago</span>
                                                </div>
                                                <h3
                                                    class="text-lg font-semibold text-gray-800 dark:text-white mb-2 hover:text-primary-600 cursor-pointer">
                                                    Understanding Time Complexity in Graph Algorithms</h3>
                                                <p class="text-gray-600 dark:text-gray-300 mb-4">Can someone explain why
                                                    Dijkstra's algorithm has a time complexity of O((V+E)logV) with a
                                                    min-heap? I'm having trouble understanding the logV part.</p>
                                                <div class="flex flex-wrap gap-3 text-sm">
                                                    <span class="flex items-center text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-comment-alt mr-1"></i> 8 comments</span>
                                                    <span class="flex items-center text-gray-500 dark:text-gray-400"><i
                                                            class="far fa-eye mr-1"></i> 189 views</span>
                                                    <span class="flex items-center text-yellow-500"><i
                                                            class="fas fa-comment-dots mr-1"></i> 2 solutions</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pagination -->
                        <div class="flex items-center justify-between mt-8 mb-4">
                            <button
                                class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50"
                                disabled>Previous</button>
                            <div class="flex items-center space-x-1">
                                <button class="w-10 h-10 rounded-lg bg-primary-600 text-white">1</button>
                                <button
                                    class="w-10 h-10 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">2</button>
                                <span class="px-2 text-gray-500">...</span>
                                <button
                                    class="w-10 h-10 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">5</button>
                            </div>
                            <button
                                class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">Next</button>
                        </div>
                    </div>

                    <!-- CREATE POST FORM -->
                    <div id="forum-form-view"
                        class="hidden animate-fadeIn bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 max-w-4xl mx-auto transition-all duration-300">
                        <div class="p-8">
                            <div
                                class="flex items-center gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4">
                                <button type="button" id="btn-back-post"
                                    class="w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 transition-colors">
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <div>
                                    <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Create Discussion</h2>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">Ask questions or share with the
                                        community.</p>
                                </div>
                            </div>

                            <form>
                                <!-- Title -->
                                <div class="mb-6">
                                    <label
                                        class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Title</label>
                                    <input type="text"
                                        class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 p-3"
                                        placeholder="e.g., How to optimize React performance with large lists?">
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                    <!-- Category -->
                                    <div>
                                        <label
                                            class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Category</label>
                                        <select
                                            class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 p-3">
                                            <option>General Discussion</option>
                                            <option>Web Development</option>
                                            <option>Algorithms</option>
                                            <option>Backend</option>
                                            <option>Mobile Development</option>
                                        </select>
                                    </div>
                                    <!-- Tags -->
                                    <div>
                                        <label
                                            class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Tags
                                            <span class="font-normal text-gray-500">(comma separated)</span></label>
                                        <input type="text"
                                            class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 p-3"
                                            placeholder="e.g., javascript, react, performance">
                                    </div>
                                </div>

                                <!-- Description -->
                                <div class="mb-8">
                                    <label
                                        class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Description</label>
                                    <div
                                        class="border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-700">
                                        <!-- Fake Toolbar -->
                                        <div
                                            class="flex items-center gap-2 px-3 py-2 border-b border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 text-gray-600 dark:text-gray-300">
                                            <button type="button"
                                                class="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"><i
                                                    class="fas fa-bold"></i></button>
                                            <button type="button"
                                                class="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"><i
                                                    class="fas fa-italic"></i></button>
                                            <button type="button"
                                                class="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"><i
                                                    class="fas fa-list-ul"></i></button>
                                            <button type="button"
                                                class="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"><i
                                                    class="fas fa-link"></i></button>
                                            <button type="button"
                                                class="p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"><i
                                                    class="fas fa-code"></i></button>
                                        </div>
                                        <textarea
                                            class="w-full p-4 h-40 bg-transparent border-0 focus:ring-0 text-gray-900 dark:text-white resize-none"
                                            placeholder="Describe your question or topic in detail..."></textarea>
                                    </div>
                                </div>

                                <!-- Post Button -->
                                <div class="flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700">
                                    <button type="button" id="btn-cancel-post-footer"
                                        class="px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600 rounded-lg transition-colors">
                                        Cancel
                                    </button>
                                    <button type="submit"
                                        class="px-8 py-2.5 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600 text-white font-bold rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5">
                                        <i class="fas fa-paper-plane mr-2"></i> Post Discussion
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- SECTION: MANAGE CLASS -->
                <div id="section-manage-class" class="content-section hidden">
                    <div id="student-list-container"
                        class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700 mb-6">
                        <!-- Search Bar -->
                        <div class="mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                            <div class="relative max-w-md flex-1 w-full">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-400"></i>
                                </div>
                                <input type="text" id="studentSearchInput"
                                    class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-white"
                                    placeholder="Search student by Name, ID, or Email...">
                            </div>
                            <button id="btn-add-student"
                                class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg text-sm font-semibold transition-colors shadow-sm whitespace-nowrap">
                                <i class="fas fa-plus mr-2"></i> Add Student
                            </button>
                        </div>

                        <!-- Filters Grid -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div>
                                <label class="block text-xs font-semibold text-gray-500 uppercase mb-1">Section</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500">
                                    <option>All Sections</option>
                                    <option>Section A</option>
                                    <option>Section B</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-500 uppercase mb-1">Year</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500">
                                    <option>All Years</option>
                                    <option>1st Year</option>
                                    <option>2nd Year</option>
                                    <option>3rd Year</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-500 uppercase mb-1">Subject</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500">
                                    <option>All Subjects</option>
                                    <option>Data Structures</option>
                                    <option>Algorithms</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-semibold text-gray-500 uppercase mb-1">Sort By</label>
                                <select
                                    class="w-full rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm p-2.5 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500">
                                    <option>Recent</option>
                                    <option>Name</option>
                                    <option>Rank</option>
                                </select>
                            </div>
                        </div>



                        <!-- Students Table -->
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-50 dark:bg-gray-700/50 text-gray-500 dark:text-gray-400">
                                    <tr>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">ID</th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">Name</th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">Section
                                        </th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">Year</th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">Email</th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">Global Rank
                                        </th>
                                        <th class="px-6 py-3 font-semibold uppercase tracking-wider text-xs">College
                                            Rank</th>
                                        <th
                                            class="px-6 py-3 font-semibold uppercase tracking-wider text-xs text-center">
                                            Status</th>
                                    </tr>
                                </thead>
                                <tbody
                                    class="divide-y divide-gray-100 dark:divide-gray-700 border-t border-gray-100 dark:border-gray-700">
                                    <!-- Student 1 -->
                                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">2302920100126</td>
                                        <td class="px-6 py-4 font-medium text-gray-900 dark:text-white">
                                            <div>Sagar Kumar</div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">A</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">2nd Year</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">
                                            sagar.kumar.cs.2023@mitmeerut.ac.in</td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-xs font-medium">
                                                1,245
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-green-500 text-white text-xs font-medium shadow-sm">
                                                12
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 text-center">
                                            <span
                                                class="inline-flex items-center px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium">
                                                Active
                                            </span>
                                        </td>
                                    </tr>
                                    <!-- Student 2 -->
                                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">2302920100127</td>
                                        <td class="px-6 py-4 font-medium text-gray-900 dark:text-white">
                                            <div>Priya Sharma</div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">B</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">3rd Year</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">
                                            priya.sharma.cs.2023@mitmeerut.ac.in</td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-xs font-medium">
                                                892
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-green-500 text-white text-xs font-medium shadow-sm">
                                                5
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 text-center">
                                            <span
                                                class="inline-flex items-center px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium">
                                                Active
                                            </span>
                                        </td>
                                    </tr>
                                    <!-- Student 3 -->
                                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">2302920100128</td>
                                        <td class="px-6 py-4 font-medium text-gray-900 dark:text-white">
                                            <div>Rahul Verma</div>
                                        </td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">A</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">2nd Year</td>
                                        <td class="px-6 py-4 text-gray-600 dark:text-gray-300">
                                            rahul.verma.cs.2023@mitmeerut.ac.in</td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-xs font-medium">
                                                2,156
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span
                                                class="inline-flex items-center px-2.5 py-1 rounded bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs font-medium shadow-sm">
                                                28
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 text-center">
                                            <span
                                                class="inline-flex items-center px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium">
                                                Active
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Create Student Form -->
                <div id="student-form-view"
                    class="hidden animate-fadeIn bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 max-w-3xl mx-auto mt-6 transition-all duration-300">
                    <div class="p-8">
                        <div class="flex items-center justify-between mb-8">
                            <h2 class="text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-3">
                                <span
                                    class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center">
                                    <i class="fas fa-user-plus"></i>
                                </span>
                                New Student Registration
                            </h2>
                            <button id="btn-back-to-student-list"
                                class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>

                        <form class="space-y-8">
                            <!-- Personal Information -->
                            <div>
                                <h3
                                    class="text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center border-b border-gray-100 dark:border-gray-700 pb-2">
                                    <i class="far fa-user-circle text-primary-500 mr-2"></i> Personal Information
                                </h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Name -->
                                    <div class="relative group">
                                        <label
                                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Full
                                            Name</label>
                                        <div class="relative">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i
                                                    class="fas fa-user text-gray-400 group-focus-within:text-primary-500 transition-colors"></i>
                                            </div>
                                            <input type="text"
                                                class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all shadow-sm group-hover:border-gray-400 dark:group-hover:border-gray-500"
                                                placeholder="e.g. John Doe">
                                        </div>
                                    </div>
                                    <!-- Email -->
                                    <div class="relative group">
                                        <label
                                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Email
                                            Address</label>
                                        <div class="relative">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i
                                                    class="fas fa-envelope text-gray-400 group-focus-within:text-primary-500 transition-colors"></i>
                                            </div>
                                            <input type="email"
                                                class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all shadow-sm group-hover:border-gray-400 dark:group-hover:border-gray-500"
                                                placeholder="e.g. john@university.edu">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Academic Details -->
                            <div>
                                <h3
                                    class="text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center border-b border-gray-100 dark:border-gray-700 pb-2">
                                    <i class="fas fa-graduation-cap text-primary-500 mr-2"></i> Academic Details
                                </h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Student ID -->
                                    <div class="relative group">
                                        <label
                                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Student
                                            ID</label>
                                        <div class="relative">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i
                                                    class="fas fa-id-card text-gray-400 group-focus-within:text-primary-500 transition-colors"></i>
                                            </div>
                                            <input type="text"
                                                class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 transition-all shadow-sm group-hover:border-gray-400 dark:group-hover:border-gray-500"
                                                placeholder="e.g. 2023001">
                                        </div>
                                    </div>
                                    <!-- Batch/Year -->
                                    <div class="relative group">
                                        <label
                                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Batch
                                            /
                                            Year</label>
                                        <div class="relative">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i
                                                    class="fas fa-calendar-alt text-gray-400 group-focus-within:text-primary-500 transition-colors"></i>
                                            </div>
                                            <select
                                                class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all shadow-sm cursor-pointer appearance-none group-hover:border-gray-400 dark:group-hover:border-gray-500">
                                                <option>1st Year (2025)</option>
                                                <option>2nd Year (2024)</option>
                                                <option>3rd Year (2023)</option>
                                                <option>4th Year (2022)</option>
                                            </select>
                                            <div
                                                class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                                <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Section -->
                                    <div class="relative group">
                                        <label
                                            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">Section</label>
                                        <div class="relative">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i
                                                    class="fas fa-users text-gray-400 group-focus-within:text-primary-500 transition-colors"></i>
                                            </div>
                                            <select
                                                class="block w-full pl-10 pr-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-all shadow-sm cursor-pointer appearance-none group-hover:border-gray-400 dark:group-hover:border-gray-500">
                                                <option>Section A</option>
                                                <option>Section B</option>
                                                <option>Section C</option>
                                            </select>
                                            <div
                                                class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                                <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="flex items-center justify-end gap-4 pt-6 mt-6 border-t border-gray-100 dark:border-gray-700">
                                <button type="button"
                                    class="group px-6 py-2.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 rounded-lg transition-colors flex items-center">
                                    <i class="fas fa-times mr-2 group-hover:rotate-90 transition-transform"></i> Cancel
                                </button>
                                <button type="submit"
                                    class="px-8 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5 flex items-center">
                                    <i class="fas fa-check mr-2"></i> Register Student
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
        </div>

        <!-- SECTION: TASKS -->
        <div id="section-tasks" class="content-section hidden">
            <!-- ... existing content ... -->
            <div class="max-w-4xl mx-auto">
                <div
                    class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden">
                    <div class="p-6 border-b border-gray-100 dark:border-gray-700 bg-primary-50/50 dark:bg-gray-800">
                        <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-2">My Tasks
                        </h2>
                        <div class="mt-6 flex gap-2">
                            <input type="text" id="newTaskInput"
                                class="flex-1 rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-primary-500"
                                placeholder="Add a new task...">
                            <button id="addTaskBtn"
                                class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">Add</button>
                        </div>
                    </div>
                    <ul id="taskList" class="p-6 space-y-2">
                        <!-- ... -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- SECTION: SETTINGS -->
        <div id="section-settings" class="content-section hidden">
            <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">Settings</h2>
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700">
                <p class="text-gray-500 dark:text-gray-400">Settings configuration options will appear here.</p>
            </div>
        </div>

        <!-- SECTION: SUPPORT -->
        <div id="section-support" class="content-section hidden">
            <div class="mb-8 text-center md:text-left">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white">Help Center</h1>
                <p class="text-gray-600 dark:text-gray-400 mt-1">Search for documentation, troubleshooting, or contact
                    us directly.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">

                <div class="lg:col-span-7 space-y-6">

                    <div class="relative">
                        <input type="text" id="faqSearch" placeholder="Search FAQs (e.g., 'Contest', 'Login', 'IDE')..."
                            class="w-full pl-12 pr-4 py-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-200 outline-none transition bg-white dark:bg-gray-800 text-gray-800 dark:text-white">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"></i>
                    </div>

                    <div class="space-y-4" id="faqContainer">
                        <div class="flex items-center justify-between mb-2">
                            <h2 class="text-lg font-semibold text-gray-800 dark:text-white">Frequently Asked Questions
                            </h2>
                        </div>

                        <div
                            class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                            <button
                                class="w-full flex items-center justify-between p-5 text-left focus:outline-none faq-toggle-btn">
                                <span class="font-semibold text-gray-800 dark:text-gray-200">How do I register for a
                                    contest?</span>
                                <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                            </button>
                            <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                Go to the <span class="font-semibold text-primary-500">Contests</span> page via the
                                sidebar. Click on "Upcoming Contests" and select the "Register" button next to the event
                                you wish to join. Registration usually closes 30 minutes before start time.
                            </div>
                        </div>

                        <div
                            class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                            <button
                                class="w-full flex items-center justify-between p-5 text-left focus:outline-none faq-toggle-btn">
                                <span class="font-semibold text-gray-800 dark:text-gray-200">Why is my code getting
                                    "Time Limit Exceeded"?</span>
                                <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                            </button>
                            <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                This usually means your algorithm is too slow for the input size. Check your time
                                complexity (e.g., ensure you aren't using O(n) where O(n log n) is required).
                                Optimization tips are available in the <span class="font-semibold">Discussion</span> tab
                                of the problem.
                            </div>
                        </div>

                        <div
                            class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                            <button
                                class="w-full flex items-center justify-between p-5 text-left focus:outline-none faq-toggle-btn">
                                <span class="font-semibold text-gray-800 dark:text-gray-200">Where can I view my
                                    submission history?</span>
                                <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                            </button>
                            <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                You can view your history on your <span class="font-semibold">Profile</span> page under
                                the "Activity" heatmap, or by clicking the "Submissions" tab on any specific problem
                                page.
                            </div>
                        </div>
                        <div
                            class="faq-item bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm transition-all hover:border-primary-300 dark:hover:border-primary-700">
                            <button
                                class="w-full flex items-center justify-between p-5 text-left focus:outline-none faq-toggle-btn">
                                <span class="font-semibold text-gray-800 dark:text-gray-200">I found a bug in the
                                    platform.</span>
                                <i class="fas fa-chevron-down faq-icon text-gray-400 transition-transform"></i>
                            </button>
                            <div class="faq-content px-5 text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
                                Please use the contact form on the right side of this page. Select "Platform Bug" as the
                                priority/subject to ensure our engineering team sees it immediately.
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mt-8">
                        <a href="#"
                            class="p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition group shadow-sm">
                            <i class="fab fa-discord text-2xl text-[#5865F2] mb-2"></i>
                            <span class="text-sm font-semibold text-gray-700 dark:text-gray-200">Join Discord</span>
                        </a>
                        <a href="#"
                            class="p-4 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl flex flex-col items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition group shadow-sm">
                            <i class="fab fa-twitter text-2xl text-[#1DA1F2] mb-2"></i>
                            <span class="text-sm font-semibold text-gray-700 dark:text-gray-200">Follow Updates</span>
                        </a>
                    </div>
                </div>

                <aside class="lg:col-span-5">
                    <div
                        class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 md:p-8 rounded-xl shadow-sm relative overflow-hidden">
                        <div
                            class="absolute top-0 right-0 w-32 h-32 bg-primary-50 dark:bg-primary-900/20 rounded-full -mr-16 -mt-16 z-0">
                        </div>

                        <div class="relative z-10">
                            <h3 class="text-xl font-bold mb-2 text-gray-800 dark:text-white">Open a Ticket</h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Our team typically responds in
                                under 4 hours.</p>

                            <form id="supportForm" class="space-y-4">
                                <div class="grid grid-cols-1 gap-4">
                                    <div>
                                        <label
                                            class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Subject</label>
                                        <input type="text" required placeholder="Brief summary..."
                                            class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 focus:border-transparent outline-none transition text-sm">
                                    </div>
                                </div>

                                <div>
                                    <label
                                        class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Category</label>
                                    <select
                                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 outline-none transition text-sm">
                                        <option>General Question</option>
                                        <option>Contest Issue</option>
                                        <option>Billing / Account</option>
                                        <option class="text-red-500 font-bold">Report Bug</option>
                                    </select>
                                </div>

                                <div>
                                    <label
                                        class="block text-xs font-bold uppercase tracking-wider mb-1 text-gray-500 dark:text-gray-400">Details</label>
                                    <textarea rows="5" required placeholder="Describe your issue..."
                                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-400 focus:border-transparent outline-none transition text-sm font-sans"></textarea>
                                </div>

                                <button type="submit"
                                    class="w-full bg-primary-500 hover:bg-primary-600 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transform active:scale-[0.98] transition-all">
                                    Submit Ticket
                                </button>
                            </form>

                            <div id="successState" class="hidden text-center py-12">
                                <div
                                    class="w-16 h-16 bg-green-100 dark:bg-green-900/30 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                                    <i class="fas fa-check text-2xl"></i>
                                </div>
                                <h4 class="text-xl font-bold mb-2 text-gray-800 dark:text-white">Ticket Received!</h4>
                                <p class="text-gray-500 dark:text-gray-400 mb-6 text-sm">Check your email for
                                    confirmation.<br>Ref ID: <span class="font-mono text-primary-500">#TKT-4920</span>
                                </p>
                                <button
                                    onclick="document.getElementById('successState').classList.add('hidden'); document.getElementById('supportForm').classList.remove('hidden');"
                                    class="text-primary-500 font-bold hover:underline text-sm">Send another
                                    message</button>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        </main>
    </div>
    </div>

    <!-- NOTIFICATION DROPDOWN (NEW) -->
    <div id="notificationDropdown"
        class="fixed top-16 right-6 z-50 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 hidden animate-[fadeIn_0.1s_ease-out]">
        <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center">
            <h3 class="font-semibold text-gray-800 dark:text-white">Recent Activity</h3>
            <span class="text-xs text-primary-500 cursor-pointer hover:underline">Mark all read</span>
        </div>
        <div class="p-2">
            <div class="p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg cursor-pointer">
                <p class="text-sm text-gray-800 dark:text-gray-200 font-medium">Contest Reminder</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Weekly contest starts in 1 hour.</p>
            </div>
            <div class="p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg cursor-pointer">
                <p class="text-sm text-gray-800 dark:text-gray-200 font-medium">New Student Joined</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Alex joined CS101.</p>
            </div>
        </div>
    </div>

    <!-- PROFILE OVERLAY -->
    <div id="profileOverlay"
        class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
        <!-- ... existing ... -->
        <div class="w-[380px] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden animate-fadeIn">
            <!-- Header with Gradient -->
            <div class="bg-gradient-to-br from-[#1E4A7A] to-[#153255] relative pt-12 pb-20 px-6 text-center">
                <button id="closeProfileOverlay"
                    class="absolute top-4 right-4 w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 text-white/90 transition-all flex items-center justify-center backdrop-blur-sm">
                    <i class="fas fa-times text-sm"></i>
                </button>

                <!-- Avatar -->
                <div class="absolute left-1/2 bottom-[-48px] -translate-x-1/2">
                    <div
                        class="relative w-24 h-24 rounded-full p-1.5 bg-white dark:bg-gray-800 ring-4 ring-[#1E4A7A]/10 dark:ring-[#1E4A7A]/30">
                        <div
                            class="w-full h-full rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-3xl font-bold shadow-inner">
                            JD
                        </div>
                        <div
                            class="absolute bottom-0 right-0 w-6 h-6 bg-green-500 border-4 border-white dark:border-gray-800 rounded-full">
                        </div>
                    </div>
                </div>
            </div>

            <div class="pt-16 pb-8 px-6">
                <!-- Name & Professional Summary -->
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-1">Dr. John Doe</h2>
                    <p class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-3">Senior Professor & Researcher
                    </p>

                    <!-- Badges -->
                    <div class="flex items-center justify-center gap-2 flex-wrap">
                        <span
                            class="px-3 py-1 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-100 dark:border-blue-800">
                            CSE Department
                        </span>
                        <span
                            class="px-3 py-1 rounded-full text-xs font-semibold bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border border-purple-100 dark:border-purple-800">
                            HOD
                        </span>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <!-- Faculty ID -->
                    <div
                        class="p-3 rounded-2xl bg-gray-50 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-700 group hover:border-blue-200 dark:hover:border-blue-800 transition-colors">
                        <div class="flex items-center gap-3 mb-1">
                            <div
                                class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform">
                                <i class="fas fa-id-badge text-xs"></i>
                            </div>
                            <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Faculty ID</span>
                        </div>
                        <p class="text-sm font-bold text-gray-800 dark:text-gray-200 pl-1">FAC-2023</p>
                    </div>

                    <!-- Joined Date -->
                    <div
                        class="p-3 rounded-2xl bg-gray-50 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-700 group hover:border-green-200 dark:hover:border-green-800 transition-colors">
                        <div class="flex items-center gap-3 mb-1">
                            <div
                                class="w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform">
                                <i class="far fa-calendar-check text-xs"></i>
                            </div>
                            <span class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Joined</span>
                        </div>
                        <p class="text-sm font-bold text-gray-800 dark:text-gray-200 pl-1">Aug 2015</p>
                    </div>
                </div>

                <!-- Footer Actions -->
                <div class="space-y-3">
                    <!-- Logout -->
                    <button
                        class="w-full flex items-center justify-center gap-2 p-3.5 rounded-xl bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 font-semibold transition-all group">
                        <i class="fas fa-sign-out-alt group-hover:-translate-x-1 transition-transform"></i>
                        Sign Out
                    </button>
                    <!-- Close (Optional, replacing the old bottom close) -->
                    <button id="closeProfileBtnBottom"
                        class="w-full text-xs text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="index1_logic.js"></script>
</body>

</html>