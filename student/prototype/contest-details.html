<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampusCode - Contest Registration</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Poppins", "sans-serif"],
            },
            colors: {
              primary: {
                50: "#E7F0FA",
                100: "#D0E1F5",
                200: "#7BA4D0",
                300: "#4D84C0",
                400: "#2E5E99",
                500: "#1E4A7A",
                600: "#0D2440",
              },
              dark: {
                bg: "#111827",
                card: "#1F2937",
                text: "#F9FAFB",
                border: "#374151",
              },
            },
          },
        },
      };
    </script>
    <style>
      /* --- Global Styles --- */
      ::-webkit-scrollbar { width: 6px; height: 6px; }
      ::-webkit-scrollbar-track { background: transparent; }
      .dark ::-webkit-scrollbar-track { background: #111827; }
      ::-webkit-scrollbar-thumb { background: #7ba4d0; border-radius: 3px; }
      ::-webkit-scrollbar-thumb:hover { background: #2e5e99; }

      /* --- Sidebar Specifics --- */
      .sidebar {
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
      }
    
      .nav-item {
        transition: all 0.2s ease;
        position: relative;
        display: flex;
        align-items: center; 
        padding: 0.75rem 1rem; 
        margin-bottom: 0.25rem;
        color: #374151; 
        border-radius: 0.5rem; 
        cursor: pointer;
        white-space: nowrap;
      }

      .dark .nav-item { color: #d1d5db;  }
      .nav-item:hover { background-color: #f3f4f6; }
      .dark .nav-item:hover { background-color: #374151; }
      .nav-item.active { background-color: #d0e1f5; color: #1e4a7a; }
      .dark .nav-item.active { background-color: #1e4a7a; color: #ffffff; }

      .nav-item.active::before {
        content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
        height: 60%; width: 4px; background-color: #2e5e99; border-radius: 0 4px 4px 0;
      }
      .dark .nav-item.active::before { background-color: #60a5fa; }

      .nav-item i { width: 1.5rem; text-align: center; margin-right: 0.75rem; font-size: 1.1rem; flex-shrink: 0; }
      .nav-item span { font-size: 0.875rem; font-weight: 500; }

      /* Collapsed Sidebar overrides */
      .sidebar.collapsed .nav-item { justify-content: center; padding-left: 0; padding-right: 0; }
      .sidebar.collapsed .nav-item i { margin-right: 0; font-size: 1.25rem; }
      .sidebar.collapsed .nav-item span { display: none; }

      /* Custom Checkbox */
      input[type="checkbox"] {
        -webkit-appearance: none; appearance: none;
        width: 1.25rem; height: 1.25rem;
        border: 2px solid #cbd5e1; border-radius: 0.25rem;
        cursor: pointer; display: grid; place-content: center;
      }
      .dark input[type="checkbox"] { border-color: #4b5563; background-color: #374151; }
      
      input[type="checkbox"]::before {
        content: ""; width: 0.75rem; height: 0.75rem;
        transform: scale(0); transition: 120ms transform ease-in-out;
        box-shadow: inset 1em 1em white; background-color: white;
        transform-origin: center;
        clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
      }
      
      input[type="checkbox"]:checked { background-color: #2E5E99; border-color: #2E5E99; }
      input[type="checkbox"]:checked::before { transform: scale(1); }
    </style>
  </head>
  <body class="bg-primary-50 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-200">
    <div class="flex h-screen overflow-hidden">
      
      <aside id="mainSidebar" class="sidebar w-64 bg-white dark:bg-gray-800 shadow-sm border-r border-gray-200 dark:border-gray-700 flex flex-col h-screen flex-shrink-0 transition-colors duration-200 z-50">

            <div class="p-6 flex-shrink-0 flex items-center justify-between h-[88px]">
                <h1 class="text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2 overflow-hidden whitespace-nowrap">
                    <i class="fas fa-code text-primary-500 text-2xl flex-shrink-0"></i>
                    <span id="sidebarLogoText" class="transition-all duration-300 opacity-100 w-auto">CampusCode</span>
                </h1>
                
                <button id="sidebarToggleBtn" class="p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-primary-500 transition-colors focus:outline-none">
                    <i class="fas fa-chevron-left transition-transform duration-300"></i>
                </button>
            </div>

            <nav class="flex-1 px-4 space-y-1 overflow-y-auto mt-2">
                <a href="index.html" class="nav-item "><i class="fas fa-home"></i><span>Home</span></a>
                <a href="problems.html" class="nav-item"><i class="fas fa-tasks"></i><span>Problems</span></a>
                <a href="contest.html" class="nav-item active"><i class="fas fa-trophy"></i><span>Contests</span></a>
                <a href="forum.html" class="nav-item"><i class="fas fa-comments"></i><span>Community</span></a>
                <a href="stats.html" class="nav-item"><i class="fas fa-list"></i><span>Stats</span></a>
                <a href="report.html" class="nav-item"><i class="fas fa-chart-pie"></i><span>Report</span></a>
                <a href="profile.html" class="nav-item"><i class="fas fa-user"></i><span>Profile</span></a>
            </nav>

            <div class="p-4 space-y-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex-shrink-0 bottom-menu">
                <a href="support.html" class="nav-item"><i class="far fa-question-circle"></i><span>Help & Support</span></a>
                 <div id="settingsTrigger" class="nav-item"><i class="fas fa-cog"></i><span>Settings</span></div>
            </div>
      </aside>
      <div class="flex-1 overflow-y-auto">
        <header class="bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200 sticky top-0 z-40">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <div class="flex-1 max-w-2xl ml-4 flex items-center gap-4">
               <h1 id="headerLogoText" class="text-xl font-bold text-gray-800 dark:text-white hidden transition-all duration-300 opacity-0 transform -translate-x-2 whitespace-nowrap">
                    CampusCode
                </h1>
              <div class="relative w-full">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <i class="fas fa-search text-gray-400"></i>
                </div>
                <input
                  type="text"
                  class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-400 focus:border-transparent bg-white dark:bg-gray-700 text-sm text-gray-900 dark:text-gray-100 placeholder-gray-500"
                  placeholder="Search..."
                />
              </div>
            </div>
            <div class="ml-4 flex items-center gap-3">
              <button
                id="themeToggleBtn"
                class="p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none transition-transform active:scale-95"
              >
                <i class="fas fa-moon text-xl"></i>
              </button>
              <div class="relative">
                <button
                  id="notificationBtn"
                  class="relative p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none"
                >
                  <i class="fas fa-bell text-xl"></i>
                  <span
                    class="absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-gray-800"
                  ></span>
                </button>
              </div>
              <button id="headerProfileBtn" class="ml-2 flex items-center gap-3 p-1 pr-3 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                    <div class="h-9 w-9 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm">JD</div>
                    <span class="text-sm font-medium text-gray-700 dark:text-gray-200 hidden sm:block">John Doe</span>
                </button>
            </div>
          </div>
        </header>
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            
            <nav class="flex mb-6" aria-label="Breadcrumb">
                <ol class="inline-flex items-center space-x-1 md:space-x-3">
                  <li class="inline-flex items-center">
                    <a href="contest.html" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-primary-600 dark:text-gray-400 dark:hover:text-white">
                      <i class="fas fa-trophy mr-2"></i>
                      Contests
                    </a>
                  </li>
                  <li>
                    <div class="flex items-center">
                      <i class="fas fa-chevron-right text-gray-400 mx-2 text-xs"></i>
                      <span class="text-sm font-medium text-gray-500 dark:text-gray-400">Weekly Challenge #42</span>
                    </div>
                  </li>
                </ol>
            </nav>

            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-primary-100 dark:border-gray-700 p-6 md:p-8 mb-6 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-primary-50 dark:bg-blue-900/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
                
                <div class="relative z-10">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <div class="flex items-center gap-3 mb-2">
                                <span class="px-3 py-1 rounded-full text-xs font-semibold bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300">
                                    Upcoming
                                </span>
                                <span class="text-sm text-gray-500 dark:text-gray-400">Hosted by CampusCode Team</span>
                            </div>
                            <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">Weekly Coding Challenge #42</h1>
                            <p class="text-gray-600 dark:text-gray-300 max-w-2xl">
                                Join over 1,000 developers in this week's algorithmic showdown. Test your skills in dynamic programming, graphs, and string manipulation.
                            </p>
                        </div>
                        
                        <div class="bg-primary-50 dark:bg-gray-700/50 p-4 rounded-xl text-center min-w-[140px] border border-primary-100 dark:border-gray-600">
                            <p class="text-xs text-primary-600 dark:text-gray-300 uppercase tracking-wide font-semibold mb-1">Starts In</p>
                            <div class="text-2xl font-bold text-primary-700 dark:text-white font-mono" id="contestCountdown">02:14:35</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <div class="lg:col-span-2 space-y-6">
                    
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-primary-100 dark:border-gray-700 p-6">
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                            <i class="fas fa-info-circle text-primary-500"></i> Contest Details
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/30">
                                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg">
                                    <i class="far fa-calendar-alt"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 font-medium">Date & Time</p>
                                    <p class="text-sm font-semibold text-gray-800 dark:text-gray-200">Oct 24, 2023 at 8:00 PM</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/30">
                                <div class="p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg">
                                    <i class="far fa-clock"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 font-medium">Duration</p>
                                    <p class="text-sm font-semibold text-gray-800 dark:text-gray-200">3 Hours</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/30">
                                <div class="p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg">
                                    <i class="fas fa-list-ol"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 font-medium">Problems</p>
                                    <p class="text-sm font-semibold text-gray-800 dark:text-gray-200">5 Algorithmic Challenges</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/30">
                                <div class="p-2 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg">
                                    <i class="fas fa-code"></i>
                                </div>
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 font-medium">Allowed Languages</p>
                                    <p class="text-sm font-semibold text-gray-800 dark:text-gray-200">C++, Java, Python, JS</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-primary-100 dark:border-gray-700 p-6">
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Instructions & Rules</h3>
                        <ul class="space-y-3 text-sm text-gray-600 dark:text-gray-300">
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                                <span>You must solve the problems individually. Plagiarism check will be run on all solutions.</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                                <span>Ranking is based on score first, then finish time.</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                                <span>Each wrong submission incurs a 10-minute penalty, only if the problem is eventually solved.</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check-circle text-green-500 mt-1"></i>
                                <span>Do not discuss solutions during the live contest period.</span>
                            </li>
                        </ul>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-primary-100 dark:border-gray-700 p-6">
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Prizes & Rewards</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-b from-yellow-50 to-white dark:from-yellow-900/20 dark:to-gray-800 border border-yellow-200 dark:border-yellow-900/50 p-4 rounded-xl text-center">
                                <div class="w-12 h-12 mx-auto bg-yellow-100 dark:bg-yellow-900/50 rounded-full flex items-center justify-center text-yellow-600 mb-2">
                                    <i class="fas fa-trophy text-xl"></i>
                                </div>
                                <p class="font-bold text-gray-900 dark:text-white">1st Place</p>
                                <p class="text-yellow-600 dark:text-yellow-400 font-bold">$250 Amazon Card</p>
                            </div>
                            <div class="bg-gradient-to-b from-gray-50 to-white dark:from-gray-700/20 dark:to-gray-800 border border-gray-200 dark:border-gray-600 p-4 rounded-xl text-center">
                                <div class="w-12 h-12 mx-auto bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center text-gray-500 mb-2">
                                    <i class="fas fa-medal text-xl"></i>
                                </div>
                                <p class="font-bold text-gray-900 dark:text-white">2nd Place</p>
                                <p class="text-gray-600 dark:text-gray-300 font-bold">$150 Amazon Card</p>
                            </div>
                            <div class="bg-gradient-to-b from-orange-50 to-white dark:from-orange-900/20 dark:to-gray-800 border border-orange-200 dark:border-orange-900/50 p-4 rounded-xl text-center">
                                <div class="w-12 h-12 mx-auto bg-orange-100 dark:bg-orange-900/50 rounded-full flex items-center justify-center text-orange-600 mb-2">
                                    <i class="fas fa-medal text-xl"></i>
                                </div>
                                <p class="font-bold text-gray-900 dark:text-white">3rd Place</p>
                                <p class="text-orange-600 dark:text-orange-400 font-bold">$100 Amazon Card</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-primary-100 dark:border-gray-700 p-6 sticky top-24">
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2">Registration</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">
                            Registration is free and open to all students. Ensure your profile is updated before registering.
                        </p>

                        <form id="registrationForm" class="space-y-4">
                            <div class="flex items-start gap-3">
                                <div class="flex items-center h-5">
                                    <input id="agreeRules" type="checkbox" required class="focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded">
                                </div>
                                <div class="ml-1 text-sm">
                                    <label for="agreeRules" class="font-medium text-gray-700 dark:text-gray-300">I agree to the <a href="#" class="text-primary-600 hover:underline">contest rules</a> and code of conduct.</label>
                                </div>
                            </div>

                            <button type="submit" id="registerBtn" class="w-full bg-primary-500 hover:bg-primary-600 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded-xl shadow-sm transition-all transform active:scale-95 flex justify-center items-center gap-2">
                                <span>Register for Contest</span>
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </form>

                        <div class="mt-6 border-t border-gray-100 dark:border-gray-700 pt-4">
                            <p class="text-xs text-gray-500 dark:text-gray-400 text-center mb-2">Share this contest</p>
                            <div class="flex justify-center gap-4">
                                <button class="text-gray-400 hover:text-blue-500 transition-colors"><i class="fab fa-twitter text-xl"></i></button>
                                <button class="text-gray-400 hover:text-blue-700 transition-colors"><i class="fab fa-linkedin text-xl"></i></button>
                                <button class="text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors"><i class="fas fa-link text-xl"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
      </div>
    </div>

   <div id="profileOverlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
        <div class="w-[340px] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden animate-[fadeIn_0.2s_ease-out]">
            <div class="bg-[#1E4A7A] dark:bg-[#0f2a4a] relative pt-8 pb-16 px-6 text-center">
                <button id="closeProfileOverlay" class="absolute top-4 right-4 text-white/70 hover:text-white"><i class="fas fa-times text-lg"></i></button>
                <div class="absolute top-4 left-4">
                     <button class="w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center text-white hover:bg-white/20"><i class="fas fa-qrcode text-xs"></i></button>
                </div>
                <div class="absolute left-1/2 bottom-[-45px] -translate-x-1/2">
                    <div class="w-24 h-24 rounded-full bg-[#1E4A7A] p-1"> 
                         <div class="w-full h-full rounded-full bg-[#1E4A7A] flex items-center justify-center text-white text-4xl font-normal border-4 border-white dark:border-gray-800">JD</div>
                    </div>
                </div>
            </div>
            <div class="pt-14 pb-6 px-6 text-center">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white">John Doe</h2>
                <div class="flex flex-col items-center mt-1 text-sm text-gray-500 dark:text-gray-400">
                    <span class="flex items-center gap-1"><i class="fas fa-users text-xs"></i> XYZ college</span>
                    <span>ID: CS2025_001</span>
                </div>
                <div class="flex justify-between mt-6 px-2">
                    <div class="text-center">
                        <div class="text-[10px] font-bold text-[#1E4A7A] dark:text-blue-400 uppercase tracking-wide">Solved</div>
                        <div class="text-xl font-bold text-gray-900 dark:text-white mt-1">124</div>
                    </div>
                    <div class="text-center border-l border-r border-gray-100 dark:border-gray-700 px-4">
                        <div class="text-[10px] font-bold text-[#1E4A7A] dark:text-blue-400 uppercase tracking-wide">Rank</div>
                        <div class="text-xl font-bold text-gray-900 dark:text-white mt-1">42</div>
                    </div>
                    <div class="text-center">
                        <div class="text-[10px] font-bold text-[#1E4A7A] dark:text-blue-400 uppercase tracking-wide">Points</div>
                        <div class="text-xl font-bold text-gray-900 dark:text-white mt-1">1.2k</div>
                    </div>
                </div>
                <div class="h-px bg-gray-100 dark:bg-gray-700 my-6"></div>
                <div class="space-y-1">
                    <a href="profile.html" class="nav-item"><i class="fas fa-id-card"></i><span>My Profile </span></a>
                    <a href="edit-profile.html" class="nav-item"><i class="fas fa-pen"></i><span>Edit profile</span></a>
                    <a href="reports.html" class="nav-item"><i class="fas fa-chart-pie"></i><span>Report</span></a>
                    <a href="stats.html" class="nav-item"><i class="fas fa-list"></i><span>Stats</span></a>
                    <button id="logoutBtn" class="w-full flex items-center gap-3 p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 group mt-2 transition-all">
                        <div class="w-8 h-8 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 dark:text-red-400 flex items-center justify-center">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <span class="text-sm font-medium text-red-600 dark:text-red-400">Log out</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="settingsMenu" class="hidden fixed bottom-16 left-4 w-72 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 shadow-2xl rounded-2xl z-[9999] overflow-hidden transform transition-all duration-200 origin-bottom-left">
        <div class="p-2 space-y-1">
            <div class="px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Account</div>
            <a href="profile.html" class="flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors cursor-pointer group">
                <i class="fas fa-user-circle w-5 text-gray-400 group-hover:text-primary-500 transition-colors"></i>
                Profile
            </a>
        </div>

        <div class="h-px bg-gray-100 dark:bg-gray-700 mx-4"></div>

        <div class="p-2 space-y-1">
            <div class="px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">Preferences</div>
            
            <button id="themeAccordionBtn" class="w-full flex justify-between items-center px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl transition-colors cursor-pointer group focus:outline-none">
                <div class="flex items-center gap-3">
                    <i class="fas fa-palette w-5 text-gray-400 group-hover:text-primary-500 transition-colors"></i>
                    <span>Theme</span>
                </div>
                <i id="themeChevron" class="fas fa-chevron-right text-xs text-gray-400 transition-transform duration-200"></i>
            </button>

            <div id="themeOptionsContainer" class="hidden pl-4 pr-1 space-y-1 pb-1">
                <button data-value="light" class="theme-option w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
                    <span class="flex items-center gap-2"><i class="fas fa-sun text-orange-400 w-4"></i> Light</span>
                    <i class="fas fa-check text-primary-500 opacity-0 check-icon"></i>
                </button>
                <button data-value="dark" class="theme-option w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
                    <span class="flex items-center gap-2"><i class="fas fa-moon text-indigo-400 w-4"></i> Dark</span>
                    <i class="fas fa-check text-primary-500 opacity-0 check-icon"></i>
                </button>
                <button data-value="system" class="theme-option w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors">
                    <span class="flex items-center gap-2"><i class="fas fa-desktop text-gray-400 w-4"></i> System</span>
                    <i class="fas fa-check text-primary-500 opacity-0 check-icon"></i>
                </button>
            </div>
        </div>
    </div>
    <div id="notificationDropdown" class="fixed top-16 right-6 z-50 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 hidden animate-[fadeIn_0.1s_ease-out]">
      <div class="flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-700">
        <h3 class="text-sm font-semibold text-gray-800 dark:text-white">Notifications</h3>
        <button class="text-xs text-primary-500 hover:underline">Mark all read</button>
      </div>
      <div class="max-h-80 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-700">
        <div class="px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer">
          <p class="text-sm text-gray-800 dark:text-gray-200 font-medium">New contest available</p>
          <span class="text-[10px] text-gray-400">2 minutes ago</span>
        </div>
      </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- 1. SIDEBAR TOGGLE LOGIC ---
            const sidebar = document.getElementById('mainSidebar');
            const toggleBtn = document.getElementById('sidebarToggleBtn');
            const toggleIcon = toggleBtn ? toggleBtn.querySelector('i') : null;
            const sidebarLogoText = document.getElementById('sidebarLogoText');
            const headerLogoText = document.getElementById('headerLogoText');

            if (toggleBtn && sidebar) {
                toggleBtn.addEventListener('click', () => {
                    sidebar.classList.toggle('collapsed');

                    // Check if collapsed via class
                    if (sidebar.classList.contains('collapsed')) {
                        // COLLAPSE
                        sidebar.classList.replace('w-64', 'w-20');
                        if(toggleIcon) toggleIcon.style.transform = 'rotate(180deg)';
                        
                        // Sidebar Text (immediate hide)
                        if(sidebarLogoText) {
                            sidebarLogoText.style.opacity = '0';
                            sidebarLogoText.style.width = '0px';
                        }
                        
                        // Header Text (fade in)
                        if(headerLogoText) {
                            headerLogoText.classList.remove('hidden');
                            setTimeout(() => {
                                headerLogoText.classList.remove('opacity-0', '-translate-x-2');
                            }, 50);
                        }

                    } else {
                        // EXPAND
                        sidebar.classList.replace('w-20', 'w-64');
                        if(toggleIcon) toggleIcon.style.transform = 'rotate(0deg)';
                        
                        // Sidebar Text (fade in)
                        if(sidebarLogoText) {
                            sidebarLogoText.style.opacity = '1';
                            sidebarLogoText.style.width = 'auto';
                        }

                        // Header Text (fade out)
                        if(headerLogoText) {
                            headerLogoText.classList.add('opacity-0', '-translate-x-2');
                            setTimeout(() => {
                                headerLogoText.classList.add('hidden');
                            }, 300);
                        }
                    }
                });
            }

            // --- 2. SETTINGS, THEME & ACCORDION LOGIC ---
            const settingsTrigger = document.getElementById('settingsTrigger');
            const settingsMenu = document.getElementById('settingsMenu');
            const themeAccordionBtn = document.getElementById('themeAccordionBtn');
            const themeOptionsContainer = document.getElementById('themeOptionsContainer');
            const themeChevron = document.getElementById('themeChevron');
            const themeOptions = document.querySelectorAll('.theme-option');
            const headerThemeBtn = document.getElementById('themeToggleBtn');
            const headerThemeIcon = headerThemeBtn ? headerThemeBtn.querySelector('i') : null;

            // A. Apply Theme Function
            function applyTheme(themeName) {
                const html = document.documentElement;
                
                if (themeName === 'dark') {
                    html.classList.add('dark');
                    localStorage.theme = 'dark';
                } else if (themeName === 'light') {
                    html.classList.remove('dark');
                    localStorage.theme = 'light';
                } else {
                    // System Preference
                    localStorage.removeItem('theme');
                    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                        html.classList.add('dark');
                    } else {
                        html.classList.remove('dark');
                    }
                }

                // Update Header Icon
                if (headerThemeIcon) {
                    if (html.classList.contains('dark')) {
                        headerThemeIcon.classList.replace('fa-moon', 'fa-sun');
                    } else {
                        headerThemeIcon.classList.replace('fa-sun', 'fa-moon');
                    }
                }

                // Update Settings Menu Checkmarks
                themeOptions.forEach(btn => {
                    const checkIcon = btn.querySelector('.check-icon');
                    const isSelected = btn.getAttribute('data-value') === themeName;
                    
                    if (isSelected) {
                        btn.classList.add('bg-primary-50', 'dark:bg-primary-900/20', 'text-primary-600', 'dark:text-primary-400');
                        checkIcon.classList.remove('opacity-0');
                    } else {
                        btn.classList.remove('bg-primary-50', 'dark:bg-primary-900/20', 'text-primary-600', 'dark:text-primary-400');
                        checkIcon.classList.add('opacity-0');
                    }
                });
            }

            // B. Toggle Settings Menu
            if (settingsTrigger && settingsMenu) {
                settingsTrigger.addEventListener('click', (e) => {
                    e.stopPropagation();
                    settingsMenu.classList.toggle('hidden');
                    
                    // Adjust position if sidebar is collapsed
                    if (sidebar && sidebar.classList.contains('collapsed')) {
                        settingsMenu.style.left = '80px';
                    } else {
                        settingsMenu.style.left = '16px';
                    }
                });

                document.addEventListener('click', (e) => {
                    if (!settingsMenu.contains(e.target) && !settingsTrigger.contains(e.target)) {
                        settingsMenu.classList.add('hidden');
                    }
                });
            }

            // C. Toggle Theme Accordion
            if (themeAccordionBtn && themeOptionsContainer) {
                themeAccordionBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    themeOptionsContainer.classList.toggle('hidden');
                    themeChevron.style.transform = themeOptionsContainer.classList.contains('hidden') 
                        ? 'rotate(0deg)' 
                        : 'rotate(90deg)';
                });
            }

            // D. Theme Option Clicks
            themeOptions.forEach(option => {
                option.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const selectedTheme = option.getAttribute('data-value');
                    applyTheme(selectedTheme);
                });
            });

            // E. Header Quick Toggle
            if (headerThemeBtn) {
                headerThemeBtn.addEventListener('click', () => {
                    const isDark = document.documentElement.classList.contains('dark');
                    applyTheme(isDark ? 'light' : 'dark');
                });
            }

            // F. Initialize
            const savedTheme = localStorage.theme || 'system';
            applyTheme(savedTheme);

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                if (!localStorage.theme) applyTheme('system');
            });


            // --- 3. OVERLAYS & NOTIFICATIONS ---
            const overlay = document.getElementById("profileOverlay");
            const headerProfileBtn = document.getElementById("headerProfileBtn");
            const closeBtn = document.getElementById("closeProfileOverlay");
            if(headerProfileBtn && overlay) headerProfileBtn.addEventListener("click", () => overlay.classList.remove("hidden"));
            if(closeBtn && overlay) closeBtn.addEventListener("click", () => overlay.classList.add("hidden"));
            if(overlay) overlay.addEventListener("click", (e) => { if (e.target === overlay) overlay.classList.add("hidden"); });

            const notifBtn = document.getElementById('notificationBtn');
            const notifDropdown = document.getElementById('notificationDropdown');
            if (notifBtn && notifDropdown) {
                notifBtn.addEventListener('click', (e) => { e.stopPropagation(); notifDropdown.classList.toggle('hidden'); });
                document.addEventListener('click', (e) => {
                    if(!notifDropdown.contains(e.target) && !notifBtn.contains(e.target)) notifDropdown.classList.add('hidden');
                });
            }
             if(overlay) overlay.addEventListener("click", (e) => { if (e.target === overlay) overlay.classList.add("hidden"); });

    // *** PASTE LOGOUT LOGIC HERE ***
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', () => {
            window.location.href = '../../index.html';
        });
    }

            // --- 4. Registration Form Logic ---
            const regForm = document.getElementById('registrationForm');
            const regBtn = document.getElementById('registerBtn');
            
            if(regForm && regBtn) {
                regForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    // Simulate API call / Processing
                    regBtn.disabled = true;
                    const originalContent = regBtn.innerHTML;
                    regBtn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Processing...';
                    
                    setTimeout(() => {
                        regBtn.innerHTML = '<i class="fas fa-check-circle"></i> Registered Successfully';
                        regBtn.classList.remove('bg-primary-500', 'hover:bg-primary-600');
                        regBtn.classList.add('bg-green-500', 'hover:bg-green-600');
                        // Optional: redirect after delay
                        // window.location.href = "contest.html";
                    }, 1500);
                });
            }
        });
    </script>
  </body>
</html>